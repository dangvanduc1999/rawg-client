{"version":3,"sources":["serviceWorker.js","layouts/PublicLayout.js","layouts/PublicRoute.js","routes.js","containers/HeaderContainer.js","App.js","reducers/GamesReducer.js","reducers/RouterReducer.js","reducers/AppReducer.js","reducers/UserReducer.js","reducers/ProfileReducer.js","reducers/index.js","store/index.js","index.js","constants/ActionTypes.js","utils/helpers/history.js","utils/helpers/setMetacriticColor.js","utils/helpers/preventClick.js","utils/helpers/platformIcon.js","components/CustomLink.js","components/Header.js","components/Background.js","utils/helpers/elementInViewport.js","utils/helpers/formatImageUrl.js","components/Loading.js","components/Video.js","components/GameItem.js","components/GamesRendered.js","components/HOCs/withInfiniteScroll.js","components/HeaderGenres.js","components/Games.js","components/Game.js","components/FullVideo.js","components/CustomTextField.js","components/HOCs/withLogged.js","components/Login.js","components/Signup.js","components/UserLikesTab.js","components/User.js","components/HOCs/withAuthenticated.js","components/CustomImageInput.js","components/SettingsProfileTab.js","components/SettingsPasswordTab.js","components/UserSettings.js","utils/RouterUtils.js","firebase.js","actions/UserActions.js","actions/RouterActions.js","constants/urlApi.js","constants/GlobalConstants.js","actions/AppActions.js","selectors/CommonSelectors.js"],"names":["Boolean","window","location","hostname","match","PublicLayout","children","className","fallback","loading","PublicRoute","Component","component","Layout","layout","rest","render","props","GamesContainer","lazy","GameContainer","LoginContainer","SignupContainer","UserContainer","UserSettingsContainer","NotFound","routes","path","INDEX_PATH","exact","GAMES_PATH","GAME_PATH","USER_PATH","connect","state","getUser","logOut","changeRoute","Header","paths","app","initRouter","closeFullVideo","windowResize","authen","videoId","windowSize","useEffect","timeout","resize","innerWidth","WINDOW_SIZE","tablet","laptop","desktop","all","onWidthResize","clearTimeout","setTimeout","WINDOW_RESIZE_DEBOUNCE","addEventListener","removeEventListener","renderRoutes","useCallback","result","length","map","route","index","key","basename","style","fontSize","HeaderContainer","onClose","initialState","nextUrl","games","collection","type","payload","FETCH_GAMES_REQUEST","FETCH_GAMES_SUCCESS","fetchedData","FETCH_GAME_SCREENSHOTS_SUCCESS","screenshots","collectionKey","keys","options","router","CHANGE_ROUTE","PLAY_FULL_VIDEO","CLOSE_FULL_VIDEO","WINDOW_RESIZE","size","currentUser","loadedAuth","likes","loadingUserProfile","visitedUserProfile","profileReducer","FETCH_VISITED_USER_REQUEST","FETCH_VISITED_USER_SUCCESS","user","combineReducers","GamesReducer","RouterReducer","AppReducer","LOGIN_SUCCESS","CLEAR_USER","UPDATE_USER_USERNAME","displayName","username","FETCH_USER_LIKES_SUCCESS","TOGGLE_LIKE","id","liked","UPDATE_USER_PROFILE_SUCCESS","profile","middlewares","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message","history","createHashHistory","setMetacriticColor","num","color","preventClick","e","preventDefault","stopPropagation","platforms","Map","FaWindows","FaPlaystation","FaXbox","FaApple","FaAndroid","FaLinux","CustomLink","active","onClick","textDecoration","to","compileRoute","defaultProps","React","memo","photoURL","handleLogOut","a","placeholder","onKeyPress","which","keyCode","value","target","query","push","display","alignItems","backgroundImage","toUpperCase","title","cursor","Fragment","marginRight","Background","hasVideo","useState","loaded","setLoaded","bgRef","useRef","handleScroll","current","el","rect","getBoundingClientRect","windowHeight","innerHeight","documentElement","clientHeight","top","left","elementInViewport","bgUrl","url","clipExists","urlReplaced","LIGHTWEIGHT_IMAGE_URL","VIDEO","NO_VIDEO","replace","IMAGE_URL","formatImageUrl","ref","Loading","propTypes","src","PropTypes","string","playFullVideo","func","isRequired","Video","setLoading","videoRef","volume","onLoadedData","play","loop","bind","propType","GameItem","game","toggleLike","isAuthenticated","loadingToggleLike","setLoadingToggleLike","hover","setHover","name","slug","metacritic","clip","parentPlatforms","showVideo","onMouseEnter","onMouseLeave","video","platform","Icon","get","platformIcon","setCol","GameRendered","gamesRendered","setGameRendered","colRendered","setColRendered","col","items","i","gridTemplateColumns","set","withInfiniteScroll","InnerComponent","debounce","InfiniteScroll","fetchGamesNext","gamesNextUrl","scrollY","body","offsetHeight","HeaderGenres","genres","genre","expanded","setExpanded","handleClick","prev","transition","transform","g","label","Games","fetchGamesIfNeeded","gamesUrl","margin","GamesRendered","marginTop","dayjs","extend","localizedFormat","relativeTime","Game","fetchGameIfNeeded","collapsed","setCollapsed","released","website","descriptionRaw","alternativeNames","tags","largeBackground","LARGE_IMAGE_URL","mediumBackground","MEDIUM_IMAGE_URL","showCollapsed","collapsedDescription","substring","releasedDate","format","fromNow","zIndex","alert","join","href","ss","alt","image","tag","FullVideo","width","height","frameBorder","allowFullScreen","allow","CustomTextField","useField","field","meta","errorText","touched","border","fontWeight","marginBottom","withLogged","redirectTo","Logged","initialValues","email","password","failed","validationSchema","yup","required","login","handleSubmit","data","actions","setSubmitting","setFieldError","log","onSubmit","isSubmitting","errors","passwordConfirmation","min","max","when","is","val","oneOf","signUp","split","msg","code","UserLikesTab","uid","fetchUserLikes","setGames","res","gameArr","Object","filter","reduce","arr","fetchGamesUserLike","User","fetchUser","isCurrentUser","currentTab","setCurrentTab","renderTab","useMemo","USER_TABS","tab","withAuthenticated","Authenticated","CustomImageInput","errorMessage","setFieldValue","file","setFile","imageReviewUrl","setImageReviewUrl","fileUpload","hidden","onChange","reader","FileReader","files","onloadend","readAsDataURL","click","marginLeft","photo","test","FILE_SIZE","SUPPORTED_FORMATS","includes","trim","SettingsProfileTab","updateUser","toast","dark","position","POSITION","TOP_RIGHT","undefined","oldPassword","newPassword","confirmNewPassword","SettingsPasswordTab","changePassword","resetForm","UserSettings","SETTINGS_TABS","parseRoute","pathname","search","pathMatch","regexp","pathToRegexp","find","getPathMatch","regexpResult","exec","obj","parseRouteKeys","pair","keyValuePair","parseRouteOptions","toPath","compile","encode","encodeURIComponent","compileOptions","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","this","EmailAuthProvider","auth","db","firestore","storage","updateUsername","userToggleLike","firebase","signInWithEmailAndPassword","dispatch","fetchSignInMethodsForEmail","emailExisted","doc","createUserWithEmailAndPassword","updateProfile","signOut","onAuthStateChanged","fetchedUser","loginSuccess","callback","merge","finally","storageRef","propsShouldUpdate","child","put","getDownloadURL","collectRef","update","previousUser","delete","credential","reauthenticateWithCredential","updatePassword","onpopstate","hash","slice","API_URL","PUBLIC_API_KEY","GENRES","getGames","getGenre","getSearch","getSlug","getTag","getUsername","getWindowSize","getLikes","getIsAuthenticated","getUserProfile"],"mappings":"0NAYoBA,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,2CCfAC,EAAe,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACtB,OACE,yBAAKC,UAAU,QACb,kBAAC,WAAD,CAAUC,SAAU,kBAAC,IAAD,CAASC,SAAS,EAAMF,UAAU,mBACnDD,K,QCJHI,EAAc,SAAC,GAAuD,IAA1CC,EAAyC,EAApDC,UAA8BC,EAAsB,EAA9BC,OAAmBC,EAAW,sCACzE,OACE,kBAAC,IAAD,iBACMA,EADN,CAEEC,OAAQ,SAAAC,GAAK,OACX,kBAACJ,EAAD,KACE,kBAACF,EAAcM,S,OCAnBC,EAAiBC,gBAAK,kBAAM,uDAC5BC,EAAgBD,gBAAK,kBAAM,uDAC3BE,EAAiBF,gBAAK,kBAAM,iCAC5BG,EAAkBH,gBAAK,kBAAM,iCAC7BI,EAAgBJ,gBAAK,kBAAM,iCAC3BK,EAAwBL,gBAAK,kBACjC,kCAEIM,EAAWN,gBAAK,kBAAM,wDACfO,EAAS,CACpB,CACEC,KAAMC,IACNC,OAAO,EACPf,OAAQT,EACRO,UAAWM,GAEb,CACES,KAAMG,IACND,OAAO,EACPf,OAAQT,EACRO,UAAWM,GAEb,CACES,KAAMI,IACNF,OAAO,EACPf,OAAQT,EACRO,UAAWQ,GAEb,CACEO,KAAMK,IACNH,OAAO,EACPf,OAAQT,EACRO,UAAWW,GAEb,CACEI,KAAM,YACNE,OAAO,EACPf,OAAQT,EACRO,UAAWY,GAEb,CACEG,KAAM,SACNE,OAAO,EACPf,OAAQT,EACRO,UAAWS,GAEb,CACEM,KAAM,UACNE,OAAO,EACPf,OAAQT,EACRO,UAAWU,GAEb,CACEK,KAAM,IACNb,OAAQT,EACRO,UAAWa,I,gCCnDAQ,eAPS,SAAAC,GACtB,OAAO,2BACFC,YAAQD,IADb,IAEEE,eAIoC,CAAEC,iBAA3BJ,CAA0CK,K,eCUnDC,G,OAAQ,CAACX,IAAYE,IAAYC,IAAWC,MA2FlD,IAMeC,eANS,SAAAC,GACtB,OAAO,eACFA,EAAMM,OAI2B,CACtCC,eACAC,mBACAC,iBACAC,YAJaX,EA/Ff,YAOI,IANFQ,EAMC,EANDA,WACAC,EAKC,EALDA,eACAG,EAIC,EAJDA,QACAF,EAGC,EAHDA,aACAG,EAEC,EAFDA,WACAF,EACC,EADDA,OAEAG,qBAAU,WAGR,OAFAN,EAAWF,GACQK,MAElB,CAACH,EAAYG,IAEhBG,qBAAU,WACR,IAAIC,EAAU,KAERC,EAAS,WAAO,IACZC,EAAejD,OAAfiD,WAENA,EAAaC,IAAYC,QACzBN,IAAeK,IAAYC,OAE3BT,EAAaQ,IAAYC,QAEzBF,GAAcC,IAAYC,QAC1BF,EAAaC,IAAYE,QACzBP,IAAeK,IAAYE,OAE3BV,EAAaQ,IAAYE,QAEzBH,GAAcC,IAAYE,QAC1BH,EAAaC,IAAYG,SACzBR,IAAeK,IAAYG,QAE3BX,EAAaQ,IAAYG,SAEzBJ,GAAcC,IAAYG,SAC1BR,IAAeK,IAAYI,KAE3BZ,EAAaQ,IAAYI,MAIvBC,EAAgB,WACpBC,aAAaT,GACbA,EAAUU,WAAWT,EAAQU,MAM/B,OAHAH,IACAvD,OAAO2D,iBAAiB,SAAUJ,GAE3B,WACLvD,OAAO4D,oBAAoB,SAAUL,MAEtC,CAACV,EAAYH,IAEhB,IAAMmB,EAAeC,uBAAY,SAAArC,GAC/B,IAAIsC,EAAS,KAgBb,OAfItC,EAAOuC,OAAS,IAClBD,EAAStC,EAAOwC,KAAI,SAACC,EAAOC,GAAW,IAC7BzC,EAAmCwC,EAAnCxC,KAAME,EAA6BsC,EAA7BtC,MAAOf,EAAsBqD,EAAtBrD,OAAQF,EAAcuD,EAAdvD,UAE7B,OACE,kBAAC,EAAD,CACEyD,IAAKD,EACLzC,KAAMA,EACNE,MAAOA,EACPf,OAAQA,EACRF,UAAWA,QAKZ,kBAAC,IAAD,KAASoD,KACf,IAEH,OACE,kBAAC,IAAD,CAAYM,SAAS,KACnB,kBAAC,IAAD,CAAgBC,MAAO,CAAEC,SAAU,YACnC,yBAAKjE,UAAU,OACb,kBAACkE,EAAD,MACCX,EAAapC,GACd,kBAAC,IAAD,CAAWgD,QAAShC,EAAgBG,QAASA,S,iDCtG/C8B,EAAe,CACnBlE,SAAS,EACTmE,QAAS,KACTC,MAAO,IAGT,SAASC,IAAqD,IAA1C5C,EAAyC,uDAAjCyC,EAAiC,yCAAjBI,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QAChD,OAAQD,GACN,KAAKE,IACH,OAAO,2BACF/C,GADL,IAEEzB,SAAS,IAEb,KAAKyE,IACH,OAAO,2BACFhD,GADL,IAEEzB,SAAS,EACTmE,QAASI,EAAQJ,QACjBC,MAAM,GAAD,mBAAM3C,EAAM2C,OAAZ,YAAsBG,EAAQG,gBAEvC,KAAKC,IACH,OAAO,2BACFlD,GADL,IAEEmD,YAAY,YAAKL,EAAQK,eAE7B,QACE,OAAOnD,GAqBE2C,MAjBf,WAA+C,IAAhC3C,EAA+B,uDAAvB,GAAuB,yCAAjB6C,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QACjC,OAAQD,GACN,KAAKE,IACL,KAAKC,IACL,KAAKE,IACH,OAAO,2BACFlD,GADL,kBAEG8C,EAAQM,cAAgBR,EAAW5C,EAAM8C,EAAQM,eAAgB,CAChEP,OACAC,cAGN,QACE,OAAO9C,IC/CPyC,EAAe,CACnBR,MAAO,CACLoB,KAAM,GACNC,QAAS,GACT7D,KAAM,KAgBK8D,MAZf,WAA0D,IAA1CvD,EAAyC,uDAAjCyC,EAAiC,yCAAjBI,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QAC5C,OAAQD,GACN,KAAKW,IACH,OAAO,2BACFxD,GADL,IAEEiC,MAAOa,EAAQb,QAEnB,QACE,OAAOjC,ICXPyC,EAAe,CACnB9B,QAAS,GACTC,WAAYK,IAAYI,KAyBXf,MAtBf,WAAuD,IAA1CN,EAAyC,uDAAjCyC,EAAiC,yCAAjBI,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QACzC,OAAQD,GACN,KAAKY,IACH,OAAO,2BACFzD,GADL,IAEEW,QAASmC,EAAQnC,UAErB,KAAK+C,IACH,OAAO,2BACF1D,GADL,IAEEW,QAAS,KAEb,KAAKgD,IACH,OAAO,2BACF3D,GADL,IAEEY,WAAYkC,EAAQc,OAExB,QACE,OAAO5D,ICrBPyC,EAAe,CACnBoB,YAAa,KACbC,YAAY,EACZC,MAAO,ICPT,IAAMtB,EAAe,CACnBuB,oBAAoB,EACpBC,mBAAoB,MAoBPC,MAjBf,WAAkE,IAA1ClE,EAAyC,uDAAjCyC,EAAiC,yCAAjBI,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QACpD,OAAQD,GACN,KAAKsB,IACH,OAAO,eACF1B,GAEP,KAAK2B,IACH,OAAO,2BACFpE,GADL,IAEEgE,oBAAoB,EACpBC,mBAAoBnB,EAAQuB,OAEhC,QACE,OAAOrE,IChBEsE,4BAAgB,CAC7B3B,MAAO4B,EACPhB,OAAQiB,EACRlE,IAAKmE,EACLJ,KFIa,WAAwD,IAA1CrE,EAAyC,uDAAjCyC,EAAiC,yCAAjBI,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QACzD,OAAQD,GACN,KAAK6B,IACH,OAAO,2BACF1E,GADL,IAEE6D,YAAaf,EAAQuB,KACrBP,YAAY,IAEhB,KAAKa,IACH,OAAO,2BACFlC,GADL,IAEEqB,YAAY,IAEhB,KAAKc,IACH,OAAO,2BACF5E,GADL,IAEE6D,YAAY,2BAAM7D,EAAM6D,aAAb,IAA0BgB,YAAa/B,EAAQgC,aAE9D,KAAKC,IACH,OAAO,2BACF/E,GADL,IAEE+D,MAAM,eAAMjB,EAAQiB,SAExB,KAAKiB,IACH,OAAO,2BACFhF,GADL,IAEE+D,MAAM,2BAAM/D,EAAM+D,OAAb,kBAAqBjB,EAAQmC,GAAKnC,EAAQoC,UAEnD,KAAKC,IACH,OAAO,2BACFnF,GADL,IAEE6D,YAAY,2BAAM7D,EAAM6D,aAAgBf,EAAQ/D,SAEpD,QACE,OAAOiB,IErCXoF,QAASlB,ICPLmB,EAAc,CAACC,KAONC,EALDC,sBACZC,EACAC,8BAAoBC,kBAAe,WAAf,EAAmBN,K,OCAzCO,IAAS9G,OACP,kBAAC,IAAD,CAAUyG,MAAOA,GACf,kBAAC,EAAD,OAEFM,SAASC,eAAe,SbsHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EAAME,a,+BczI5B,8fACO,IAAMzD,EAAsB,sBACtBC,EAAsB,sBAGtBQ,EAAe,eAGfN,EAAiC,iCAGjCO,EAAkB,kBAClBC,EAAmB,mBACnBC,EAAgB,gBAGhBe,EAAgB,gBAChBC,EAAa,aACbC,EAAuB,uBACvBG,EAA2B,2BAC3BC,EAAc,cAGdb,EAA6B,6BAC7BC,EAA6B,6BAG7Be,EAA8B,+B,4YCzB9BsB,EAAUC,cCFhB,SAASC,EAAmBC,GACjC,GAAIA,EAAM,EAAG,MAAO,GAEpB,IAAIC,EAAQ,eAWZ,OATEA,GADED,GAAO,GACA,QACAA,GAAO,GACP,SACAA,GAAO,GACP,OAEA,MCXN,SAASE,EAAaC,GAC3BA,EAAEC,iBACFD,EAAEE,kB,uBCOEC,EAAY,IAAIC,IAAI,CACxB,CAAC,KAAMC,KACP,CAAC,cAAeC,KAChB,CAAC,OAAQC,KACT,CAAC,MAAOC,KACR,CAAC,UAAWC,KACZ,CAAC,QAASC,O,2CCWNC,EAAa,SAAC,GAWb,IAVLtJ,EAUI,EAVJA,SACAC,EASI,EATJA,UACAsJ,EAQI,EARJA,OACAlI,EAOI,EAPJA,KACA6D,EAMI,EANJA,QACAD,EAKI,EALJA,KACAlD,EAII,EAJJA,YACAyH,EAGI,EAHJA,QACAvF,EAEI,EAFJA,MACGtD,EACC,yGACEkD,EAAQ,CAAExC,OAAM4D,OAAMC,WAO5B,OACE,kBAAC,IAAD,eACEjB,MAAK,2BAAOA,GAAP,IAAcwF,eAAgB,UAC/B9I,EAFN,CAGE+I,GAAIC,YAAa9F,GACjB2F,QAAUD,EAAuBb,EAVjB,WAClBc,IACAzH,EAAY8B,IASV5D,UAAWA,IAEVD,IAMPsJ,EAAWM,aA1CU,CACnBL,QAAQ,EACRtJ,UAAW,GACXuJ,QAAS,aACTnI,KAAM,GACN4D,KAAM,GACNC,QAAS,IAsCI2E,UAAMC,KAAKR,GC7CpBtH,EAAS,SAAC,GAA0C,IAAxCD,EAAuC,EAAvCA,YAAaD,EAA0B,EAA1BA,OAAQ2D,EAAkB,EAAlBA,YAAkB,EACrBA,GAAe,GAAzCgB,EAD+C,EAC/CA,YAAasD,EADkC,EAClCA,SAEfC,EAAY,uCAAG,sBAAAC,EAAA,sEACbnI,IADa,2CAAH,qDAgBlB,OACE,4BAAQ7B,UAAU,UAChB,wBAAIA,UAAU,gBACZ,kBAAC,EAAD,CAAYoB,KAAMG,IAAYO,YAAaA,GAA3C,UAIF,yBAAK9B,UAAU,cACb,4BAAQA,UAAU,sBAChB,kBAAC,IAAD,CAAUA,UAAU,sBAEtB,2BACEwE,KAAK,OACLxE,UAAU,oBACViK,YAAY,kBACZC,WA3Be,SAAAxB,GAGrB,GAAa,MAFAA,EAAEyB,OAASzB,EAAE0B,SAET,CACf,IAAMC,EAAQ3B,EAAE4B,OAAOD,MACT,KAAVA,IACFvI,EAAY,CAAEV,KAAM,QAAS4D,KAAM,GAAIC,QAAS,CAAEsF,MAAOF,KACzDjC,EAAQoC,KAAR,uBAA6BH,UAuB7B7E,EAmBA,yBAAKxF,UAAU,gBACb,yBAAKA,UAAU,sBACb,kBAAC,EAAD,CACEoB,KAAMK,IACNuD,KAAM,CAAEyB,SAAUD,GAAe,KACjC1E,YAAaA,EACb9B,UAAU,MACVgE,MAAO,CAAEyG,QAAS,OAAQC,WAAY,WAEtC,yBACE1K,UAAU,uBACVgE,MAAO,CAAE2G,gBAAgB,OAAD,OAASb,EAAT,QAEtBA,GAAYtD,EAAcA,EAAY,GAAGoE,cAAgB,IAE7D,0BAAM5K,UAAU,0BAA0BwG,KAG9C,kBAAC,IAAD,CACE+C,QAASQ,EACTc,MAAM,SACN7K,UAAU,oBACV8K,OAAO,aAxCX,kBAAC,IAAMC,SAAP,KACE,kBAAC,EAAD,CACE3J,KAAM,SACNU,YAAaA,EACb9B,UAAU,kBACVgE,MAAO,CAAEgH,YAAa,SAJxB,SAQA,kBAAC,EAAD,CACE5J,KAAM,UACNU,YAAaA,EACb9B,UAAU,mBAHZ,cAwCV+B,EAAO4H,aAzFc,GA2FNC,UAAMC,KAAK9H,G,OCzFpBkJ,EAAa,SAAC,GAAwD,IAAtDN,EAAqD,EAArDA,gBAAiBO,EAAoC,EAApCA,SAAUlL,EAA0B,EAA1BA,UAAWD,EAAe,EAAfA,SAAe,EAC7CoL,oBAAS,GADoC,mBAClEC,EADkE,KAC1DC,EAD0D,KAEnEC,EAAQC,iBAAO,MAmBrB,OAjBA/I,qBAAU,WACR,IAAMgJ,EAAe,WACnB,IAAKJ,GAAUE,EAAMG,SCtBpB,SAA2BC,GAChC,IAAMC,EAAOD,EAAGE,wBACVC,EACJnM,OAAOoM,aAAetE,SAASuE,gBAAgBC,aAGjD,OACEL,EAAKM,KAAO,GAAKN,EAAKO,MAAQ,GAAKP,EAAKM,KAAOJ,EAH/B,IDkBkBM,CAAkBb,EAAMG,SAAU,CAChE,IAAMW,EErBP,SAAwBC,GAAyB,IAApBC,IAAmB,yDAC/CC,EAAcD,EAChBE,IAAsBC,MACtBD,IAAsBE,SAE1B,OAASL,EAAMA,EAAIM,QAAQC,IAAWL,GAAe,GFgBjCM,CAAelC,EAAiBO,GAC9CI,EAAMG,QAAQzH,MAAM2G,gBAApB,cAA6CyB,EAA7C,KACAf,GAAU,KAOd,OAHAG,IACA9L,OAAO2D,iBAAiB,SAAUmI,GAE3B,WACL9L,OAAO4D,oBAAoB,SAAUkI,MAEtC,CAACJ,EAAQT,EAAiBO,IAG3B,yBAAK4B,IAAKxB,EAAOtL,UAAS,qBAAgBA,IACvCD,IAMPkL,EAAWtB,aAlCU,CACnB3J,UAAW,GACX2K,gBAAiB,IAkCJf,UAAMC,KAAKoB,G,iBGjCpB8B,EAAU,SAAC,GAAmC,IAAjC7M,EAAgC,EAAhCA,QAASF,EAAuB,EAAvBA,UAAWgE,EAAY,EAAZA,MACrC,OAAK9D,EAKH,yBAAKF,UAAS,kBAAaA,GAAagE,MAAOA,GAC7C,yBAAKhE,UAAU,eACb,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,gCAjBG,MAwBX+M,EAAQpD,aA/Ba,CACnB3J,UAAW,GACXgE,MAAO,IA+BM4F,UAAMC,KAAKkD,GCrCpBC,EAAY,CAChBC,IAAKC,IAAUC,OACfC,cAAeF,IAAUG,KAAKC,YAO1BC,EAAQ,SAAC,GAAqC,IAAnCN,EAAkC,EAAlCA,IAAK3K,EAA6B,EAA7BA,QAAS8K,EAAoB,EAApBA,cAAoB,EACnBjC,oBAAS,GADU,mBAC1CjL,EAD0C,KACjCsN,EADiC,KAE3CC,EAAWlC,iBAAO,MAExB/I,qBAAU,WACRiL,EAAShC,QAAQiC,OAAS,IACzB,IAOH,OACE,yBAAK1N,UAAU,SACb,kBAAC,EAAD,CAASE,QAASA,EAASF,UAAU,mBACrC,2BACE8M,IAAKW,EACLE,aAVmB,WACvBH,GAAW,GACXC,EAAShC,QAAQmC,QASb5N,UAAS,uBAAmBE,EAAiC,GAAvB,sBACtC+M,IAAKA,EACLY,MAAI,IAEN,4BACE7N,UAAU,oBACVuJ,QAAS6D,EAAcU,U,EAAWxL,IAElC,kBAAC,IAAD,CAAQtC,UAAU,SAClB,+CAMRuN,EAAMQ,SAAWf,EACjBO,EAAM5D,aAvCe,CACnBsD,IAAK,IAwCQrD,UAAMC,KAAK0D,G,QCrBpBS,EAAW,SAAC,GAOX,IANLC,EAMI,EANJA,KACAnM,EAKI,EALJA,YACAsL,EAII,EAJJA,cACAc,EAGI,EAHJA,WACArH,EAEI,EAFJA,MACAsH,EACI,EADJA,gBACI,EAC8ChD,oBAAS,GADvD,mBACGiD,EADH,KACsBC,EADtB,OAEsBlD,oBAAS,GAF/B,mBAEGmD,EAFH,KAEUC,EAFV,KAKF3H,EAOEqH,EAPFrH,GACA4H,EAMEP,EANFO,KACAC,EAKER,EALFQ,KACA9D,EAIEsD,EAJFtD,gBACA+D,EAGET,EAHFS,WACAC,EAEEV,EAFFU,KACAC,EACEX,EADFW,gBAEI1D,IAAayD,KAAUA,EAAKA,KAC5BE,EAAY3D,GAAYoD,EAoB9B,OACE,yBACEtO,UAAU,YACV8O,aArBqB,SAAApG,GACvB6F,GAAS,IAqBPQ,aAlBqB,SAAArG,GACvB6F,GAAS,KAmBP,kBAAC,EAAD,CAAY5D,gBAAiBA,EAAiBO,SAAUA,GACrDA,GAAY,kBAAC,IAAD,CAAQlL,UAAU,qBAEhC6O,GACC,kBAAC,EAAD,CACE5B,IAAK0B,EAAKA,KACVrM,QAASqM,EAAKK,MACd5B,cAAeA,IAGnB,yBAAKpN,UAAU,mBACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,wBACZ4O,EAAgBjL,KAAI,YAAmB,IAAhBsL,EAAe,EAAfA,SAChBC,ERzEb,SAAsBT,GAC3B,OAAO5F,EAAUsG,IAAIV,GQwEIW,CAAaH,EAASR,MACnC,OAAOS,EACL,kBAACA,EAAD,CACEpL,IAAKmL,EAASrI,GACd5C,MAAO,CAAEgH,YAAa,UACtBhL,UAAU,SAEV,SAGR,0BAAMA,UAAS,0BAAqBsI,EAAmBoG,KAClDA,GAA0B,IAGjC,yBAAK1O,UAAU,2BACb,kBAAC,EAAD,CACEA,UAAU,4BACV6K,MAAO2D,EACPlF,QAAQ,EACRlI,KAAMI,IACNwD,KAAM,CAAEyJ,QACR3M,YAAaA,GAEZ0M,GAEFJ,EACC,kBAAC,IAAD,CAAkBpO,UAAU,uBAE5B,kBAAC,IAAD,CACEuJ,QA3Da,SAAAb,GACnByF,GACFE,GAAqB,GACrBH,EAAWtH,EAAKC,EAAe,KAAPoH,EAAaI,KAErCvM,EAAY,CAAEV,KAAM,SAAU4D,KAAM,GAAIC,QAAS,KACjDmD,EAAQoC,KAAK,YAsDLxK,UAAS,0BAAqB6G,EAAQ,cAAgB,UAUpEmH,EAASrE,aA/GY,CACnBsE,KAAM,CACJU,KAAM,CACJA,KAAM,GACNK,MAAO,IAETJ,gBAAiB,KA2GNhF,UAAMC,KAAKmE,G,OClH1B,SAASqB,EAAO9M,GACd,OAAQA,GACN,KAAKK,IAAYI,IACf,OAAO,EACT,KAAKJ,IAAYG,QACf,OAAO,EACT,KAAKH,IAAYE,OACf,OAAO,EACT,KAAKF,IAAYC,OAEjB,QACE,OAAO,GAIb,IAAMyM,EAAe,SAAC,GAQf,IAPLhL,EAOI,EAPJA,MACAxC,EAMI,EANJA,YACAsL,EAKI,EALJA,cACA7K,EAII,EAJJA,WACA2L,EAGI,EAHJA,WACAxI,EAEI,EAFJA,MACAyI,EACI,EADJA,gBACI,EACqChD,mBAAS,IAD9C,mBACGoE,EADH,KACkBC,EADlB,OAEkCrE,mBAASkE,EAAO9M,IAFlD,mBAEGkN,EAFH,KAEgBC,EAFhB,KA0BJ,OAtBAlN,qBAAU,WAIR,IAHA,IAAImN,EAAM,EACJC,EAAQ,GAELC,EAAI,EAAGA,EAAIJ,EAAaI,IAC/BD,EAAMpF,KAAK,IAGb,IAAK,IAAIqF,EAAI,EAAGA,EAAIvL,EAAMZ,OAAQmM,IAChCD,EAAMD,GAAKnF,KAAKlG,EAAMuL,MACtBF,IACYF,IACVE,EAAM,GAGVH,EAAgBI,KACf,CAACtL,EAAOmL,IAEXjN,qBAAU,WACRkN,EAAeL,EAAO9M,MACrB,CAACA,IAGF,yBACEvC,UAAU,iBACVgE,MAAO,CACL8L,oBAAoB,UAAD,OAAYL,EAAZ,4BAGpBF,EAAc5L,KAAI,SAACoM,EAAKlM,GACvB,OACE,yBAAK7D,UAAU,MAAM8D,IAAK,SAAWD,GAClCkM,EAAIpM,KAAI,SAAAsK,GACP,OACE,kBAAC,EAAD,CACEnK,IAAKmK,EAAKrH,GACVqH,KAAMA,EACNnM,YAAaA,EACbsL,cAAeA,EACfc,WAAYA,EACZrH,QAASnB,EAAMuI,EAAKrH,IACpBuH,gBAAiBA,aAYnCmB,EAAa3F,aApFQ,CACnBrF,MAAO,IAqFMsF,UAAMC,KAAKyF,GCtFpBU,EAAqB,SAACC,GAAkC,IAAlBC,EAAiB,uDAAN,EAC/CC,EAAiB,SAAC,GAMjB,IALLC,EAKI,EALJA,eACAC,EAII,EAJJA,aACAtL,EAGI,EAHJA,cACA/E,EAEI,EAFJA,UACGU,EACC,6EAqBJ,OApBA8B,qBAAU,WACR,IAAMgJ,EAAe,WAEjB9L,OAAOoM,YAAcpM,OAAO4Q,SAC5B9I,SAAS+I,KAAKC,aAAe,KAE7BrN,YACE,kBAAMiN,EAAerL,EAAesL,KACpCH,IAON,OAFAxQ,OAAO2D,iBAAiB,SAAUmI,GAE3B,WACL9L,OAAO4D,oBAAoB,SAAUkI,MAEtC,CAAC4E,EAAgBrL,EAAesL,IAGjC,yBAAKrQ,UAAWA,GACd,kBAACiQ,EAAD,eAAgBlL,cAAeA,GAAmBrE,MAKxD,OAAOyP,GAITH,EAAmBrG,aA3CE,CACnB3J,UAAW,IA4CEgQ,QC1CTS,EAAe,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,OAAQC,EAAyB,EAAzBA,MAAO7O,EAAkB,EAAlBA,YAAkB,EACvBqJ,oBAAS,GADc,mBAChDyF,EADgD,KACtCC,EADsC,KAGjDC,EAAc,WAClBD,GAAY,SAAAE,GAAI,OAAKA,MAGvB,OACE,yBAAK/Q,UAAU,iBACb,yBAAKA,UAAU,2BACb,0BAAMA,UAAU,gCAAgC2Q,GAAS,SACzD,0BAAM3Q,UAAU,+BAA+BuJ,QAASuH,GACtD,kBAAC,IAAD,CACE9M,MAAO,CACLgN,WAAY,OACZC,UAAU,UAAD,OAAYL,EAAW,SAAW,OAAlC,UAMjB,yBACE5Q,UAAS,8BACP4Q,EAAW,gCAAkC,KAG9CF,EAAO/M,KAAI,SAAAuN,GAAC,OACX,kBAAC,EAAD,eACEpN,IAAKoN,EAAEpN,IACP9D,UAAS,eAAUkR,EAAEpN,MAAQ6M,EAAQ,eAAiB,IACtDpH,QAASuH,EACT1P,KAAMG,IACN+H,OAAQ4H,EAAEpN,MAAQ6M,EAClB1L,QAAS,CAAE0L,MAAOO,EAAEpN,KACpBhC,YAAaA,GACToP,GAEHA,EAAEC,aASfV,EAAa9G,aAhDQ,GAkDNC,UAAMC,KAAK4G,GCpCpBW,EAAQ,SAAC,GAcR,IAbLlR,EAaI,EAbJA,QACAoE,EAYI,EAZJA,MACAoM,EAWI,EAXJA,OACAC,EAUI,EAVJA,MACA7O,EASI,EATJA,YACAuP,EAQI,EARJA,mBACAtM,EAOI,EAPJA,cACAuM,EAMI,EANJA,SACAlE,EAKI,EALJA,cACA7K,EAII,EAJJA,WACA2L,EAGI,EAHJA,WACAxI,EAEI,EAFJA,MACAyI,EACI,EADJA,gBAMA,OAJA3L,qBAAU,WACR6O,EAAmBtM,EAAeuM,KACjC,CAACD,EAAoBtM,EAAeuM,IAGrC,yBAAKtN,MAAO,CAAEuN,OAAQ,mBACpB,kBAAC,EAAD,CAAcb,OAAQA,EAAQC,MAAOA,EAAO7O,YAAaA,IACzD,kBAAC0P,EAAD,CACElN,MAAOA,EACPxC,YAAaA,EACbsL,cAAeA,EACf7K,WAAYA,EACZ2L,WAAYA,EACZxI,MAAOA,EACPyI,gBAAiBA,IAEnB,kBAAC,EAAD,CACEjO,QAASA,EACT8D,MAAO,CAAEyN,UAAW,QACpBzR,UAAU,oBAOlBoR,EAAMzH,aA3Ce,GA6CNqG,QAAmBoB,G,qDC9ClCM,IAAMC,OAAOC,KACbF,IAAMC,OAAOE,KAeb,IAIMC,EAAO,SAAC,GAWP,IAVLC,EAUI,EAVJA,kBACAhN,EASI,EATJA,cACA0J,EAQI,EARJA,KACAR,EAOI,EAPJA,KACAnJ,EAMI,EANJA,YACAsI,EAKI,EALJA,cACAtL,EAII,EAJJA,YACAqM,EAGI,EAHJA,gBACAzI,EAEI,EAFJA,MACAwI,EACI,EADJA,WACI,EAC8C/C,oBAAS,GADvD,mBACGiD,EADH,KACsBC,EADtB,OAE8BlD,oBAAS,GAFvC,mBAEG6G,EAFH,KAEcC,EAFd,KAQJ,GAJAzP,qBAAU,WACRuP,EAAkBtD,EAAM1J,KACvB,CAACgN,EAAmBtD,EAAM1J,KAExBkJ,EACH,OAAO,kBAAC,EAAD,CAAS/N,SAAS,EAAMF,UAAU,kBATvC,IAaF4G,EAWEqH,EAXFrH,GACA+D,EAUEsD,EAVFtD,gBACA6D,EASEP,EATFO,KACA0D,EAQEjE,EARFiE,SACAxD,EAOET,EAPFS,WACAgC,EAMEzC,EANFyC,OACAyB,EAKElE,EALFkE,QACAC,EAIEnE,EAJFmE,eACAC,EAGEpE,EAHFoE,iBACA1D,EAEEV,EAFFU,KACA2D,EACErE,EADFqE,KAGIC,EACJ5H,GAAmBA,EAAgBgC,QAAQC,IAAW4F,KAClDC,EACJ9H,GAAmBA,EAAgBgC,QAAQC,IAAW8F,KAClDC,EAAgBP,EAAe1O,OAAS,KAAOsO,EAC/CY,EAAuBD,EAAa,UACnCP,EAAeS,UAAU,EAAG,KADO,OAEtCT,EACE9P,EAAUqM,GAAQA,EAAKK,MACvB8D,EAAY,UAAMpB,IAAMQ,GAAUa,OAAO,MAA7B,aAAuCrB,IACvDQ,GACAc,UAFgB,KAGZnM,EAAQnB,EAAMkB,GAgBpB,OACE,yBAAK5G,UAAU,QACb,yBAAKA,UAAU,QACb,yBACEA,UAAU,iBACVgE,MAAO,CACL2G,gBAAgB,yJAAD,OAEe4H,EAFf,KAGfU,OAAQ,QAId,yBAAKjT,UAAU,cACb,6BACE,yBACEA,UAAU,YACVgE,MAAO,CAAE2G,gBAAgB,OAAD,OAAS8H,EAAT,QAEzBnQ,GACC,wBACEtC,UAAU,gBACVuJ,QAAS6D,EAAcU,U,EAAWxL,IAElC,kBAAC,IAAD,CAAQtC,UAAU,SAClB,+CAGJ,wBAAIA,UAAU,iBACZ,wBACEuJ,QAAS6E,EAAoB3F,EAxChB,WACnB0F,GACFE,GAAqB,GACrBH,EAAWtH,EAAKC,EAAe,KAAPoH,EAAaI,KAErCvM,EAAY,CAAEV,KAAM,SAAU4D,KAAM,GAAIC,QAAS,KACjDmD,EAAQoC,KAAK,YAmCLxK,UAAS,8CACP6G,EAAQ,sBAAwB,KAGjCuH,EACC,kBAAC,IAAD,CACEpO,UAAU,qBACVgE,MAAO,CAAEuN,OAAQ,KAGnB,kBAAC,IAAMxG,SAAP,KACE,kBAAC,IAAD,CAAe/K,UAAU,SACzB,wCAIN,wBAAIA,UAAU,oBACZ,kBAAC,IAAD,CAAqBA,UAAU,SAC/B,0BAAMuJ,QAAS,kBAAM2J,MAAM,wBAA3B,iBAMN,yBAAKlT,UAAU,iBACb,wBAAIA,UAAU,cAAcwO,GAC5B,0BAAMxO,UAAU,2BACbqS,EAAiBc,KAAK,OAEzB,wBAAInT,UAAU,aAAd,iBACgB,uBAAGA,UAAU,kBAAb,IAAgC8S,IAEhD,0BAAM9S,UAAS,qBAAgBsI,EAAmBoG,KAC/CA,GAAc,GAEjB,wBAAI1O,UAAU,aAAd,SAEE,yBAAKA,UAAU,gBACZ0Q,EAAO/M,KAAI,SAACgN,EAAO9M,GAAR,OACV,kBAAC,IAAMkH,SAAP,CAAgBjH,IAAK6M,EAAM/J,IACd,IAAV/C,GAAe,KAChB,kBAAC,EAAD,CACE7D,UAAU,cACVsJ,QAAQ,EACRlI,KAAMG,IACN0D,QAAS,CAAE0L,MAAOA,EAAMlC,MACxB3M,YAAaA,GAEZ6O,EAAMnC,YAMjB,wBAAIxO,UAAU,aAAd,WAEE,uBAAGA,UAAU,kBACX,uBAAGoT,KAAMjB,EAAS7H,OAAO,SACtB6H,KAIP,wBAAInS,UAAU,aAAd,cACc,IACZ,uBAAGA,UAAU,qBACV4S,EACAD,GACC,0BACE3S,UAAU,4BACVuJ,QAlHQ,WACtB0I,GAAa,SAAAlB,GAAI,OAAKA,OA+GV,iBAWV,yBAAK/Q,UAAU,aACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,gBACZ8E,EAAYnB,KAAI,SAAA0P,GAAE,OACjB,yBACErT,UAAU,cACV8D,IAAKuP,EAAGzM,GACR0M,IAAKD,EAAGzM,GACRqG,IAAKoG,EAAGE,MAAM5G,QAAQC,IAAW8F,YAKzC,yBAAK1S,UAAU,SACb,wBAAIA,UAAU,aAAd,OAEE,yBAAKA,UAAU,cACZsS,EAAK3O,KAAI,SAAA6P,GAAG,OACX,kBAAC,EAAD,CACExT,UAAU,YACV8D,IAAK0P,EAAI5M,GACT0C,QAAQ,EACRlI,KAAMG,IACN0D,QAAS,CAAEuO,IAAKA,EAAI/E,MACpB3M,YAAaA,GAEZ0R,EAAIhF,aAOjB,yBAAKxO,UAAU,UAAf,mBAMN8R,EAAKnI,aAzNgB,CACnB7E,YAAa,IA0NAgN,SCxPT2B,GAAY,SAAC,GAA0B,IAAxBtP,EAAuB,EAAvBA,QAAS7B,EAAc,EAAdA,QAC5B,OAAKA,EAKH,yBAAKtC,UAAU,cACb,0BAAMA,UAAU,oBAAoBuJ,QAASpF,GAA7C,QAGA,yBAAKnE,UAAU,qBACb,4BACE0T,MAAM,OACNC,OAAO,OACPC,YAAY,IACZC,iBAAe,EACfC,MAAM,+DACNjJ,MAAM,uBACNoC,IAAG,wCAAmC3K,EAAnC,mBAhBF,MAwBXmR,GAAU9J,aA5BW,GA8BNC,WAAMC,KAAK4J,I,kBCLXM,GA9BS,SAAC,GAAiD,IAA/C9J,EAA8C,EAA9CA,YAAajK,EAAiC,EAAjCA,UAAWgE,EAAsB,EAAtBA,MAAUtD,EAAY,qDACjDsT,aAAStT,GADwC,mBAChEuT,EADgE,KACzDC,EADyD,KAEjEC,EAAYD,EAAKjM,OAASiM,EAAKE,QAAUF,EAAKjM,MAAQ,GAE5D,OACE,6BACE,yCACEjI,UAAWA,EACXgE,MAAK,aAAIqQ,OAAO,GAAD,OAAKF,EAAY,iBAAmB,KAASnQ,GAC5DiG,YAAaA,GACTgK,EACAvT,IAELyT,GACC,yBACEnQ,MAAO,CACLwE,MAAO,OACP8L,WAAY,MACZrQ,SAAU,SACVwN,UAAW,UACX8C,aAAc,WAGfJ,K,SCHIK,GAnBI,SAACvE,GAAsC,IAAtBwE,EAAqB,uDAAR,IACzCC,EAAS,SAAC,GAA2C,IAAzClP,EAAwC,EAAxCA,YAAaC,EAA2B,EAA3BA,WAAe/E,EAAY,4CACxD,OAAK+E,EAEMA,GAAcD,EAChB,kBAAC,KAAD,CAAUiE,GAAIgL,IAGrB,kBAACxE,EAAD,eACEzK,YAAaA,EACbC,WAAYA,GACR/E,IARC,kBAAC,EAAD,CAASR,SAAS,EAAMF,UAAU,mBAa7C,OAAO0U,GCZHC,GAAgB,CACpBC,MAAO,GACPC,SAAU,GACVC,OAAQ,IAGJC,GAAmBC,KAAW,CAClCJ,MAAOI,OAAaC,SAAS,0BAC7BJ,SAAUG,OAAaC,SAAS,4BA0EnBT,OAvED,SAAC,GAAe,IAAbU,EAAY,EAAZA,MACTC,EAAY,uCAAG,WAAOC,EAAMC,GAAb,qBAAArL,EAAA,6DACXsL,EAAiCD,EAAjCC,cAAeC,EAAkBF,EAAlBE,cACfX,EAAoBQ,EAApBR,MAAOC,EAAaO,EAAbP,SAEfS,GAAc,GAJK,kBAMXJ,EAAMN,EAAOC,GANF,uDAQjB3M,QAAQsN,IAAR,MACAD,EAAc,SAAU,8CACxBD,GAAc,GAVG,yDAAH,wDAclB,OACE,yBAAKtV,UAAU,QACb,wBAAIA,UAAU,aAAd,SACA,kBAAC,KAAD,CACE2U,cAAeA,GACfI,iBAAkBA,GAClBU,SAAUN,IAET,gBAAGO,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,OAAjB,OACC,kBAAC,KAAD,CAAM3V,UAAU,cACd,kBAAC,GAAD,CACEwE,KAAK,QACLgK,KAAK,QACLxO,UAAU,cACViK,YAAY,UAEd,kBAAC,GAAD,CACEzF,KAAK,WACLgK,KAAK,WACLxO,UAAU,cACViK,YAAY,aAEb0L,GAAUA,EAAOb,QAChB,yBACE9Q,MAAO,CACLwE,MAAO,OACPvE,SAAU,SACVqQ,WAAY,MACZC,aAAc,SAGfoB,EAAOb,QAGZ,4BACEtQ,KAAMkR,EAAe,SAAW,SAChC1V,UAAU,oBAET0V,GACC,kBAAC,IAAD,CAAkB1V,UAAU,uBALhC,aAYN,kBAAC,IAAD,CAAMgE,MAAO,CAAEwE,MAAO,QAAUiB,GAAG,WAAnC,mCAGA,kBAAC,IAAD,CAAMzF,MAAO,CAAEwE,MAAO,QAAUiB,GAAG,sBAAnC,6BC3EAkL,GAAgB,CACpBC,MAAO,GACPnO,SAAU,GACVoO,SAAU,GACVe,qBAAsB,IAGlBb,GAAmBC,KAAW,CAClCJ,MAAOI,OAEJC,SAAS,0BACTL,MAAM,4BACTnO,SAAUuO,OAEPC,SAAS,0BACTY,IAAI,EAAG,+BACPC,IAAI,GAAI,gCACXjB,SAAUG,OAEPC,SAAS,0BACTY,IAAI,EAAG,+BACVD,qBAAsBZ,OAEnBC,SAAS,0BACTc,KAAK,WAAY,CAChBC,GAAI,SAAAC,GAAG,SAAKA,GAAOA,EAAIvS,OAAS,IAChCmE,KAAMmN,OAEHkB,MAAM,CAAClB,KAAQ,aAAc,yCA4EvBR,OAxEA,SAAC,GAAgB,IAAd2B,EAAa,EAAbA,OACVhB,EAAY,uCAAG,WAAOC,EAAMC,GAAb,iCAAArL,EAAA,6DACXsL,EAAiCD,EAAjCC,cAAeC,EAAkBF,EAAlBE,cACfX,EAA8BQ,EAA9BR,MAAOC,EAAuBO,EAAvBP,SAAUpO,EAAa2O,EAAb3O,SAEzB6O,GAAc,GAJK,kBAMGa,EAAOvB,EAAOnO,EAAUoO,GAN3B,QAMX5M,EANW,UAOL,EACUA,EAAMmO,MAAM,KADvB,mBACF5H,EADE,KACI6H,EADJ,KAETd,EAAc/G,EAAM6H,IATL,kDAYjBnO,QAAQD,MAAM,KAAMqO,MACpBpO,QAAQD,MAAM,KAAME,SACpBmN,GAAc,GAdG,0DAAH,wDAkBlB,OACE,yBAAKtV,UAAU,QACb,wBAAIA,UAAU,aAAd,WACA,kBAAC,KAAD,CACE2U,cAAeA,GACfI,iBAAkBA,GAClBU,SAAUN,IAET,gBAAGO,EAAH,EAAGA,aAAH,OACC,kBAAC,KAAD,CAAM1V,UAAU,cACd,kBAAC,GAAD,CACEwE,KAAK,QACLgK,KAAK,QACLxO,UAAU,cACViK,YAAY,UAEd,kBAAC,GAAD,CACEzF,KAAK,OACLgK,KAAK,WACLxO,UAAU,cACViK,YAAY,aAEd,kBAAC,GAAD,CACEzF,KAAK,WACLgK,KAAK,WACLxO,UAAU,cACViK,YAAY,aAEd,kBAAC,GAAD,CACEzF,KAAK,WACLgK,KAAK,uBACLxO,UAAU,cACViK,YAAY,qBAEd,4BACEzF,KAAMkR,EAAe,SAAW,SAChC1V,UAAU,oBAET0V,GACC,kBAAC,IAAD,CAAkB1V,UAAU,uBALhC,eAYN,kBAAC,IAAD,CAAMgE,MAAO,CAAEwE,MAAO,QAAUiB,GAAG,UAAnC,uC,SCvFA8M,GAAe,SAAC,GASf,IARLC,EAQI,EARJA,IACAC,EAOI,EAPJA,eACA3U,EAMI,EANJA,YACAsL,EAKI,EALJA,cACA7K,EAII,EAJJA,WACA2L,EAGI,EAHJA,WACAC,EAEI,EAFJA,gBACAzI,EACI,EADJA,MACI,EACsByF,mBAAS,IAD/B,mBACG7G,EADH,KACUoS,EADV,OAE0BvL,oBAAS,GAFnC,mBAEGjL,EAFH,KAEYsN,EAFZ,KAqBJ,OAjBAhL,qBAAU,YACgB,uCAAG,gCAAAwH,EAAA,6DACzBwD,GAAW,GADc,SAEPiJ,EAAeD,GAFR,OAEnBG,EAFmB,QAGnBvB,EAAOuB,EAAIvB,UAETwB,EAAUC,OAAO7R,KAAKoQ,GACzB0B,QAAO,SAAAhT,GAAG,QAAMsR,EAAKtR,MACrBiT,QAAO,SAACC,EAAKlT,GAAN,6BAAkBkT,GAAlB,CAAuB5B,EAAKtR,OAAO,IAC7C4S,EAASE,IAEXpJ,GAAW,GAVc,2CAAH,qDAaxByJ,KACC,CAACT,EAAKC,IAELvW,EACK,kBAAC,EAAD,CAASA,SAAS,EAAMF,UAAU,kBAIzC,yBAAKA,UAAU,cACb,kBAACwR,EAAD,CACElN,MAAOA,EACPoB,MAAOA,EACP5D,YAAaA,EACbsL,cAAeA,EACf7K,WAAYA,EACZ2L,WAAYA,EACZC,gBAAiBA,MAOzBoI,GAAa5M,aApDQ,GAsDN4M,UC9CTW,GAAO,SAAC,GAaP,IAZLvR,EAYI,EAZJA,mBACAC,EAWI,EAXJA,mBACAa,EAUI,EAVJA,SACA0Q,EASI,EATJA,UACAC,EAQI,EARJA,cACAtV,EAOI,EAPJA,YACAsL,EAMI,EANJA,cACA7K,EAKI,EALJA,WACA2L,EAII,EAJJA,WACAC,EAGI,EAHJA,gBACAsI,EAEI,EAFJA,eACA/Q,EACI,EADJA,MACI,EACgCyF,mBAAS,IADzC,mBACGkM,EADH,KACeC,EADf,OAEmC1R,GAAsB,GAArD4Q,EAFJ,EAEIA,IAAKhQ,EAFT,EAESA,YAAasD,EAFtB,EAEsBA,SAE1BtH,qBAAU,WACR8U,EAAc,IACV7Q,GACF0Q,EAAU1Q,KAEX,CAAC0Q,EAAW1Q,IAEf,IAAM8Q,EAAYC,mBAAQ,WACxB,OAAQH,GACN,IAAK,QACH,OACE,kBAAC,GAAD,CACEb,IAAKA,EACLC,eAAgBA,EAChB3U,YAAaA,EACbsL,cAAeA,EACf7K,WAAYA,EACZ2L,WAAYA,EACZC,gBAAiBA,EACjBzI,MAAOA,IAGb,QACE,OAAO,QAEV,CACD2R,EACAb,EACAC,EACA3U,EACAsL,EACA7K,EACA2L,EACAC,EACAzI,IAOF,OAAIC,EACK,kBAAC,EAAD,CAASzF,SAAS,EAAMF,UAAU,kBAC/B2F,GAAuBC,EASjC,yBAAK5F,UAAU,QACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,cACb,0BAAMA,UAAU,kBAAkBwG,GAClC,yBACExG,UAAU,cACVgE,MAAO,CAAE2G,gBAAgB,OAAD,OAASb,EAAT,QAEtBA,GAAYtD,EAAY,GAAGoE,gBAGhCwM,GACC,kBAAC,EAAD,CACEhW,KAAM,YACNU,YAAaA,EACb9B,UAAU,kCAHZ,aASJ,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,cACZyX,IAAU9T,KAAI,gBAtCC+T,EAsCE5T,EAAH,EAAGA,IAAKqN,EAAR,EAAQA,MAAR,OACb,0BACE5H,SAxCYmO,EAwCa5T,EAxCN,WAC7BwT,EAAcI,KAwCJ1X,UAAS,oBACPqX,IAAevT,EAAM,oBAAsB,IAE7CA,IAAKA,GAEJqN,QAKT,yBAAKnR,UAAU,gBAAgBuX,IA3C/B,yBAAKvT,MAAO,CAAEC,SAAU,QAAUjE,UAAU,iBAA5C,sBAiDNkX,GAAKvN,aAjHgB,GAmHNuN,UClHAS,GAnBW,SAAC1H,GAA2C,IAA3BwE,EAA0B,uDAAb,SAChDmD,EAAgB,SAAC,GAA2C,IAAzCpS,EAAwC,EAAxCA,YAAaC,EAA2B,EAA3BA,WAAe/E,EAAY,4CAC/D,OAAK+E,EAEMA,IAAeD,EACjB,kBAAC,KAAD,CAAUiE,GAAIgL,IAGrB,kBAACxE,EAAD,eACEzK,YAAaA,EACbC,WAAYA,GACR/E,IARC,kBAAC,EAAD,CAASR,SAAS,EAAMF,UAAU,mBAa7C,OAAO4X,GCgDMC,GAlEU,SAAC,GAAkD,IAAhDrJ,EAA+C,EAA/CA,KAAMsJ,EAAyC,EAAzCA,aAAcC,EAA2B,EAA3BA,cAAe9D,EAAY,EAAZA,MAAY,EACjD9I,qBADiD,mBAClE6M,EADkE,KAC5DC,EAD4D,OAE7B9M,qBAF6B,mBAElE+M,EAFkE,KAElDC,EAFkD,KAGnEC,EAAa7M,iBAAO,MA+B1B,OACE,yBACEvH,MAAO,CAAEyG,QAAS,OAAQC,WAAY,SAAU6G,OAAQ,eAExD,6BAjBEyG,IAASF,EACJ,yBAAK7K,IAAKiL,EAAgBlY,UAAU,YAAYsT,IAAI,WAEpD,0BAAMtT,UAAU,eAevB,2BACEqY,QAAM,EACNzR,GAAI4H,EACJA,KAAMA,EACNhK,KAAK,OACL8T,SAvCoB,SAAA5P,GACxBA,EAAEC,iBACF,IAAM4P,EAAS,IAAIC,WACbR,EAAOtP,EAAE4B,OAAOmO,MAAM,GAExBT,IACFO,EAAOG,UAAY,WACjBT,EAAQD,GACRG,EAAkBI,EAAO9U,SAE3B8U,EAAOI,cAAcX,GACrBD,EAAc9D,EAAMzF,KAAMwJ,KA6BxBlL,IAAKsL,IAEP,4BAAQ5T,KAAK,SAAS+E,QAnBH,WACjB6O,GACFA,EAAW3M,QAAQmN,SAiB4B5Y,UAAU,gBAAzD,UAGC8X,EACC,0BACE9T,MAAO,CACL6U,WAAY,OACZrQ,MAAO,OACP8L,WAAY,MACZrQ,SAAU,WAGX6T,GAED,O,SC1CJ/C,GAAmBC,KAAW,CAClC8D,MAAO9D,OAEJ+D,KACC,WACA,kBACA,SAAA1O,GAAK,OAAKA,GAASA,EAAM9E,MAAQyT,OAElCD,KACC,aACA,sBACA,SAAA1O,GAAK,OAAKA,GAAS4O,IAAkBC,SAAS7O,EAAM7F,SAExDiC,SAAUuO,OAEPmE,OACAlE,SAAS,0BACTY,IAAI,EAAG,+BACPC,IAAI,GAAI,kCAGPsD,GAAqB,SAAC,GAAiC,IAA/B5T,EAA8B,EAA9BA,YAAa6T,EAAiB,EAAjBA,WACjC7S,GAAgBhB,GAAe,IAA/BgB,YAEF2O,EAAY,uCAAG,WAAOC,EAAMC,GAAb,+BAAArL,EAAA,yDACXsL,EAAiCD,EAAjCC,cAAeC,EAAkBF,EAAlBE,cACfuD,EAAoB1D,EAApB0D,MAAOrS,EAAa2O,EAAb3O,SAEVqS,GAAStS,IAAgBC,EAJX,wDAQnB6O,GAAc,GARK,kBAUG+D,EAAWjE,GAVd,QAUXnN,EAVW,SAWL,EACUA,EAAMmO,MAAM,KADvB,mBACF5H,EADE,KACI6H,EADJ,KAETd,EAAc/G,EAAM6H,IAEpBiD,KAAMC,KAAK,4CAAmC,CAC5CC,SAAUF,KAAMG,SAASC,YAhBZ,kDAoBjBxR,QAAQD,MAAM,KAAMqO,MACpBpO,QAAQD,MAAM,KAAME,SArBH,yBAuBjBmN,GAAc,GAvBG,6EAAH,wDA2BlB,OACE,yBAAKtV,UAAU,WACb,yBAAKA,UAAU,QACb,wBAAIA,UAAU,aAAd,cACA,kBAAC,KAAD,CACE2U,cAA+B,CAAElO,SAAUD,GAAe,IAC1DuO,iBAAkBA,GAClBU,SAAUN,IAET,gBAAGO,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,OAAQvB,EAAzB,EAAyBA,QAAS2D,EAAlC,EAAkCA,cAAlC,OACC,kBAAC,KAAD,CAAM/X,UAAU,cACd,kBAAC,KAAD,CACEwO,KAAK,QACLnO,UAAWwX,GACXE,cAAeA,EACfD,aAAcnC,EAAM,MAAYA,EAAM,WAAYgE,EAClDvF,QAASA,EAAO,QAElB,kBAAC,GAAD,CACE5P,KAAK,OACLgK,KAAK,WACLxO,UAAU,cACViK,YAAY,aAEd,4BACEzF,KAAMkR,EAAe,SAAW,SAChC1V,UAAU,oBAET0V,GACC,kBAAC,IAAD,CAAkB1V,UAAU,uBALhC,uBAkBdoZ,GAAmBzP,aApGE,GAsGNyP,UCtGTzE,GAAgB,CACpBiF,YAAa,GACbC,YAAa,GACbC,mBAAoB,GACpB7R,MAAO,IAGH8M,GAAmBC,KAAW,CAClC4E,YAAa5E,OAAaC,SAAS,0BACnC4E,YAAa7E,OAEVC,SAAS,0BACTY,IAAI,EAAG,+BACViE,mBAAoB9E,OAEjBC,SAAS,0BACTc,KAAK,cAAe,CACnBC,GAAI,SAAAC,GAAG,SAAKA,GAAOA,EAAIvS,OAAS,IAChCmE,KAAMmN,OAEHkB,MAAM,CAAClB,KAAQ,gBAAiB,yCAInC+E,GAAsB,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,eACvB7E,EAAY,uCAAG,WAAOC,EAAMC,GAAb,iCAAArL,EAAA,6DACXsL,EAA4CD,EAA5CC,cAAeC,EAA6BF,EAA7BE,cAAe0E,EAAc5E,EAAd4E,UAC9BL,EAA6BxE,EAA7BwE,YAAaC,EAAgBzE,EAAhByE,YAErBvE,GAAc,GAJK,kBAMG0E,EAAeJ,EAAaC,GAN/B,QAMX5R,EANW,SAQL,EACUA,EAAMmO,MAAM,KADvB,mBACF5H,EADE,KACI6H,EADJ,KAETd,EAAc/G,EAAM6H,KAEpB4D,IACAX,KAAMC,KAAK,6CAAoC,CAC7CC,SAAUF,KAAMG,SAASC,aAdZ,kDAkBjBxR,QAAQD,MAAM,KAAMqO,MACpBpO,QAAQD,MAAM,KAAME,SAnBH,yBAqBjBmN,GAAc,GArBG,6EAAH,wDAyBlB,OACE,yBAAKtV,UAAU,WACb,yBAAKA,UAAU,QACb,wBAAIA,UAAU,aAAd,sBACA,kBAAC,KAAD,CACE2U,cAAeA,GACfI,iBAAkBA,GAClBU,SAAUN,IAET,gBAAGO,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,OAAjB,OACC,kBAAC,KAAD,CAAM3V,UAAU,cACd,kBAAC,GAAD,CACEwE,KAAK,WACLgK,KAAK,cACLxO,UAAU,cACViK,YAAY,iBAEd,kBAAC,GAAD,CACEzF,KAAK,WACLgK,KAAK,cACLxO,UAAU,cACViK,YAAY,iBAEd,kBAAC,GAAD,CACEzF,KAAK,WACLgK,KAAK,qBACLxO,UAAU,cACViK,YAAY,8BAEb0L,EAAM,OACL,0BACE3R,MAAO,CACLC,SAAU,SACVqQ,WAAY,MACZ9L,MAAO,SAGRmN,EAAM,OAGX,4BACEnR,KAAMkR,EAAe,SAAW,SAChC1V,UAAU,oBAET0V,GACC,kBAAC,IAAD,CAAkB1V,UAAU,uBALhC,uBAkBd+Z,GAAoBpQ,aA9GC,GAgHNoQ,UC/GTG,GAAe,SAAC,GAAiD,IAA/C1U,EAA8C,EAA9CA,YAAa6T,EAAiC,EAAjCA,WAAYW,EAAqB,EAArBA,eAAqB,EAChC7O,mBAAS,IADuB,mBAC7DkM,EAD6D,KACjDC,EADiD,KAG9DC,EAAYC,mBAAQ,WACxB,OAAQH,GACN,IAAK,GACH,OACE,kBAAC,GAAD,CACE7R,YAAaA,EACb6T,WAAYA,IAGlB,IAAK,kBACH,OAAO,kBAAC,GAAD,CAAqBW,eAAgBA,IAC9C,QACE,OAAO,QAEV,CAAC3C,EAAY7R,EAAa6T,EAAYW,IAMzC,OACE,yBAAKha,UAAU,YACb,yBAAKA,UAAU,kBACZma,IAAcxW,KAAI,gBAPD+T,EAOI5T,EAAH,EAAGA,IAAKqN,EAAR,EAAQA,MAAR,OACjB,0BACE5H,SATcmO,EASW5T,EATJ,WAC7BwT,EAAcI,KASN1X,UAAS,wBACPqX,IAAevT,EAAM,wBAA0B,IAEjDA,IAAKA,GAEJqN,OAIP,yBAAKnR,UAAU,qBAAqBuX,KAM1C2C,GAAavQ,aA9CQ,GAgDNgO,UAAkBuC,K,+HCjBpBE,EAAa,SAACpY,EAAOqY,EAAUC,GAC1C,IAAMC,EAnCa,SAACvY,EAAOqY,GAC3B,OAAOrY,EACJ2B,KAAI,SAAAvC,GACH,IAAM4D,EAAO,GAEb,MAAO,CAAE5D,OAAMoZ,OADAC,YAAarZ,EAAM4D,GACXA,WAExB0V,MAAK,SAAAtZ,GAAI,OAAIA,EAAKoZ,OAAOzB,KAAKsB,MA4BfM,CAAa3Y,EAAOqY,GAKtC,MAAO,CAAEjZ,KAJImZ,EAAYA,EAAUnZ,KAAOiZ,EAI3BrV,KAHFuV,EA3BQ,SAACF,EAAU5W,GAAY,IACpCuB,EAAiBvB,EAAjBuB,KACF4V,EADmBnX,EAAX+W,OACcK,KAAKR,GAEjC,OAAOrV,EAAK+R,QACV,SAAC+D,EAAKhX,EAAK+L,GAAX,mBAAC,eACIiL,GADL,kBAEGhX,EAAI0K,KAAOqB,EAAI,EAAI+K,EAAalX,OAASkX,EAAa/K,EAAI,GAAK,OAElE,IAkBuBkL,CAAeV,EAAUE,GAAa,GAG1CtV,QAFLqV,EAfQ,SAAAA,GACxB,OAAOA,EACJlE,MAAM,KACNzS,KAAI,SAAAqX,GAAI,OAAIA,EAAK5E,MAAM,QACvBU,QAAO,SAAAmE,GAAY,OAA4B,IAAxBA,EAAavX,QAAoC,KAApBuX,EAAa,MACjElE,QACC,SAAC+D,EAAKG,GAAN,mBAAC,eAA4BH,GAA7B,kBAAmCG,EAAa,GAAKA,EAAa,OAClE,IAQqBC,CAAkBZ,GAAU,KAK1C5Q,EAAe,SAAC,GAA6B,IAA3BtI,EAA0B,EAA1BA,KAAM4D,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QACnCkW,EAASC,YAAQha,EAAM,CAAEia,OAAQC,qBACjC/Q,EAnDe,SAAAtF,GACrB,OAAO4R,OAAO7R,KAAKC,GAChBtB,KAAI,SAAAG,GAAG,gBAAOA,EAAP,YAAcmB,EAAQnB,OAC7BqP,KAAK,KAgDMoI,CAAetW,GAC7B,MAAM,GAAN,OAAUkW,EAAOnW,IAAjB,OAA0C,KAAjBuF,EAAM4O,OAAN,WAA0B5O,GAAU,M,uZCjDzDiR,G,qBAAiB,CACrBC,OAAQ,0CACRC,WAAY,8BACZC,YAAa,qCACbC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAaF,MATb,aAAe,oBACb/Z,IAAIga,cAAcT,GAClBU,KAAKC,kBAAoBla,IAAIma,KAAKD,kBAClCD,KAAKE,KAAOna,IAAIma,OAChBF,KAAKG,GAAKpa,IAAIqa,YACdJ,KAAKK,QAAUta,IAAIsa,W,OCNjBC,EAAiB,SAAA/V,GAAQ,MAAK,CAClCjC,KAAM+B,IACN9B,QAAS,CAAEgC,cAQPgW,EAAiB,SAAC7V,EAAIC,GAAL,MAAgB,CACrCrC,KAAMmC,IACNlC,QAAS,CAAEmC,KAAIC,WAeJqO,EAAK,uCAAG,WAAON,EAAOC,GAAd,SAAA7K,EAAA,+EACZ0S,EAASN,KAAKO,2BAA2B/H,EAAOC,IADpC,2CAAH,wDAILsB,EAAS,SAACvB,EAAOnO,EAAUoO,GAAlB,8CAA+B,WAAM+H,GAAN,iBAAA5S,EAAA,sEAExB0S,EAASN,KAAKS,2BAA2BjI,GAFjB,aAE7CkI,EAF6C,SAG/BA,EAAapZ,OAAS,GAHS,yCAI1C,iEAJ0C,uBAQrBgZ,EAASL,GACpC9X,WAAW,SACXwY,IAAItW,GACJ0I,MAXgD,kBAY/BiG,OAZ+B,0CAa1C,+DAb0C,yBAiBjCsH,EAASN,KAAKY,+BAC9BpI,EACAC,GAnBiD,eAiB7C8B,EAjB6C,iBAqB7CA,EAAI3Q,KACPiX,cAAc,CACbzW,YAAaC,IAEdoB,MAAK,WACJ+U,EAASJ,EAAe7F,EAAI3Q,KAAKQ,cACjCkW,EAASL,GACN9X,WAAW,SACXwY,IAAIpG,EAAI3Q,KAAKQ,aACbuJ,IAAI,CACHyG,IAAKG,EAAI3Q,KAAKwQ,IACdhQ,YAAamQ,EAAI3Q,KAAKQ,YACtBsD,SAAU,OAEX9B,MAAME,QAAQD,UAnC8B,4CAA/B,uDAuCTpG,EAAM,uCAAG,sBAAAmI,EAAA,+EACb0S,EAASN,KAAKc,WADD,2CAAH,qDAKN7a,EAAS,kBAAM,SAAAua,GAC1B,OAAOF,EAASN,KAAKe,oBAAmB,SAAAnX,GACtC,GAAIA,EAAM,CACR,IAAMoX,EAAc,CAClB5G,IAAKxQ,EAAKwQ,IACV1M,SAAU9D,EAAK8D,SACftD,YAAaR,EAAKQ,aAEpBoW,EAvFe,SAAA5W,GAAI,MAAK,CAAExB,KAAM6B,IAAe5B,QAAS,CAAEuB,SAuFjDqX,CAAaD,IACtB3G,EAAe2G,EAAY5G,KACxB3O,MAAK,SAAA8O,GAAG,OAAIiG,GAhFSlX,EAgFsBiR,EAAIvB,OAhFhB,CACtC5Q,KAAMkC,IACNjC,QAAS,CAAEiB,YAFiB,IAAAA,KAiFrBsC,MAAME,QAAQD,YAEjB2U,EA1FmB,CAAEpY,KAAM8B,WA+FpBmQ,EAAiB,SAAAD,GAC5B,OAAOkG,EAASL,GAAG9X,WAAW,SAASwY,IAAIvG,GAAKrH,OAGrCjB,EAAa,SAACtH,EAAIqH,EAAMqP,GAAX,8CAAwB,WAAMV,GAAN,iBAAA5S,EAAA,uDACxCxE,EAAgBkX,EAASN,KAAzB5W,eAGEgR,EAAQhR,EAARgR,IACOkG,EAASL,GAAG9X,WAAW,SAASwY,IAAIvG,GAGhDzG,IADH,eACUnJ,EAAKqH,GAAQ,CAAEsP,OAAO,IAC7B1V,MAAK,WACJ+U,EAASH,EAAe7V,EAAIqH,OAE7BjG,MAAME,QAAQD,OACduV,SAAQ,WACPF,GAAS,OAdiC,2CAAxB,uDAmBbnG,EAAY,SAAA1Q,GAAQ,8CAAI,WAAMmW,GAAN,eAAA5S,EAAA,sEAEjC4S,EAvGmC,CAAEpY,KAAMsB,MAqGV,SAGP4W,EAASL,GAChC9X,WAAW,SACXwY,IAAItW,GACJ0I,MAN8B,OAG3BiO,EAH2B,OAOjCR,GA1G4B5W,EA0GKoX,EAAYhI,OA1GR,CACvC5Q,KAAMuB,IACNtB,QAAS,CAAEuB,WAiGwB,gDASjCkC,QAAQD,MAAR,MATiC,kCAnGL,IAAAjC,IAmGK,oBAAJ,uDAapBqT,EAAa,SAAArT,GAAI,8CAAI,WAAM4W,GAAN,iCAAA5S,EAAA,yDACxBxE,EAAgBkX,EAASN,KAAzB5W,YADwB,oDAO1BiY,EAAaf,EAASH,QAAQzP,MAC5BgM,EAAoB9S,EAApB8S,MAAOrS,EAAaT,EAAbS,SACP+P,EAAqBhR,EAArBgR,IAAKhQ,EAAgBhB,EAAhBgB,YACTkX,EAAoB,CAAElX,YAAaC,GAVP,SAc1BD,IAAgBC,EAdU,kCAeEiW,EAASL,GACpC9X,WAAW,SACXwY,IAAItW,GACJ0I,MAlByB,mBAmBRiG,OAnBQ,0CAoBnB,+DApBmB,YAwB1B0D,EAxB0B,kCA0BtB2E,EAAWE,MAAMnH,GAAKoH,IAAI9E,GA1BJ,yBA4BV2E,EAAWE,MAAMnH,GAAKqH,iBA5BZ,QA4BtBxR,EA5BsB,OA8B5BqR,EAAiB,2BAAQA,GAAR,IAA2B5T,SAAUuC,IA9B1B,WAkC9B7G,EAAYyX,cAAZ,eACKS,IAGCI,EAAapB,EAASL,GAAG9X,WAAW,SAASwY,IAAIvW,GACnDA,IAAgBC,EAvCU,iBAyC5BqX,EAAWC,OAAX,eACKL,IA1CuB,yCA8CDI,EAAW3O,MA9CV,QA8CtB6O,EA9CsB,OAgD5BF,EAAWG,SAEXvB,EAASL,GACN9X,WAAW,SACXwY,IAAItW,GACJsJ,IAHH,2BAIOiO,EAAa5I,QACbsI,IAvDqB,QA4D9Bd,GAvK6Blc,EAuKKgd,EAvKK,CACzClZ,KAAMsC,IACNrC,QAAS,CAAE/D,YAyGqB,+FA3GD,IAAAA,IA2GC,qBAAJ,uDAkEjBsZ,EAAiB,SAACJ,EAAaC,GAAd,6BAA8B,gCAAA7P,EAAA,yDAClDxE,EAAgBkX,EAASN,KAAzB5W,YADkD,iEAOhDoP,EAAUpP,EAAVoP,MACFsJ,EAAaxB,EAASP,kBAAkB+B,WAC5CtJ,EACAgF,GAVsD,SAYtCpU,EAAY2Y,6BAA6BD,GAZH,oDAehD1Y,EAAY4Y,eAAevE,GAfqB,6DAkBvC,wBAAb,KAAIvD,KAlBgD,0CAmB/C,8BAnB+C,iCAqBjD,8BArBiD,4D,8HChN/CxU,EAAc,SAAA8B,GAAK,MAAK,CACnCY,KAAMW,IACNV,QAAS,CAAEb,WAGA1B,EAAa,SAAAF,GAAK,OAAI,SAAA4a,GACjCld,OAAO2e,WAAa,WAClB,IADwB,GACX3e,OAAOC,SAAS2e,KAAO5e,OAAOC,SAAS2e,KAAKC,MAAM,GAAK,IACpCnI,MAAM,KAFd,mBAEjBiE,EAFiB,KAEPC,EAFO,KAGlB1W,EAAQwW,YAAWpY,EAAOqY,EAAUC,GAC1CsC,EAAS9a,EAAY8B,KAGvB,IAR6C,GAQhClE,OAAOC,SAAS2e,KAAO5e,OAAOC,SAAS2e,KAAKC,MAAM,GAAK,IACpCnI,MAAM,KATO,mBAStCiE,EATsC,KAS5BC,EAT4B,KAUvC1W,EAAQwW,YAAWpY,EAAOqY,EAAUC,GAC1CsC,EAAS9a,EAAY8B,O,+BCnBvB,oVAAO,IAAM4a,EAAU,0BACV5R,EAAY,+BAEZ8F,EAAmB,4CACnBF,EAAkB,6CAClBhG,EAAwB,CACnCC,MAAO,4CACPC,SAAU,6CAGCrL,EAAa,IACbE,EAAa,SACbC,EAAY,eACZC,EAAY,cAEZgd,EAAiB,oC,+BCf9B,8OAAO,IAAMC,EAAS,CACpB,CACE5a,IAAK,SACLqN,MAAO,SACP1H,GAAI,UAEN,CACE3F,IAAK,QACLqN,MAAO,QACP1H,GAAI,SAEN,CACE3F,IAAK,YACLqN,MAAO,YACP1H,GAAI,aAEN,CACE3F,IAAK,yBACLqN,MAAO,MACP1H,GAAI,0BAEN,CACE3F,IAAK,UACLqN,MAAO,UACP1H,GAAI,WAEN,CACE3F,IAAK,WACLqN,MAAO,WACP1H,GAAI,YAEN,CACE3F,IAAK,SACLqN,MAAO,SACP1H,GAAI,UAEN,CACE3F,IAAK,aACLqN,MAAO,aACP1H,GAAI,cAEN,CACE3F,IAAK,SACLqN,MAAO,SACP1H,GAAI,UAEN,CACE3F,IAAK,SACLqN,MAAO,SACP1H,GAAI,UAEN,CACE3F,IAAK,aACLqN,MAAO,aACP1H,GAAI,cAEN,CACE3F,IAAK,SACLqN,MAAO,SACP1H,GAAI,UAEN,CACE3F,IAAK,SACLqN,MAAO,SACP1H,GAAI,UAEN,CACE3F,IAAK,SACLqN,MAAO,SACP1H,GAAI,UAEN,CACE3F,IAAK,wBACLqN,MAAO,wBACP1H,GAAI,yBAEN,CACE3F,IAAK,WACLqN,MAAO,WACP1H,GAAI,YAEN,CACE3F,IAAK,cACLqN,MAAO,cACP1H,GAAI,eAEN,CACE3F,IAAK,cACLqN,MAAO,cACP1H,GAAI,eAEN,CACE3F,IAAK,OACLqN,MAAO,OACP1H,GAAI,SAIK7G,EAAc,CACzBC,OAAQ,IACRC,OAAQ,IACRC,QAAS,KACTC,IAAK,GAGMI,EAAyB,IAEzBqU,EAAY,CACvB,CACE3T,IAAK,GACLqN,MAAO,YAET,CACErN,IAAK,QACLqN,MAAO,UAIEgJ,EAAgB,CAC3B,CACErW,IAAK,GACLqN,MAAO,WAET,CACErN,IAAK,kBACLqN,MAAO,oBAIE6H,EAAY,OACZC,EAAoB,CAAC,YAAa,aAAc,c,gCClI7D,iHAMa7L,EAAgB,SAAA9K,GAAO,MAAK,CACvCkC,KAAMY,IACNX,QAAS,CAAEnC,aAGAH,EAAiB,iBAAO,CACnCqC,KAAMa,MAGKjD,EAAe,SAAAmD,GAAI,MAAK,CACnCf,KAAMc,IACNb,QAAS,CAAEc,W,gCCjBb,sXACO,IAAMoZ,EAAW,SAAAhd,GAAK,OAAIA,EAAM2C,OAG1Bsa,EAAW,SAAAjd,GAAU,IAAD,EACDA,EAAMuD,OAAOtB,MAAMqB,QAAzCsF,EADuB,EACvBA,MAAOiJ,EADgB,EAChBA,IAAK7C,EADW,EACXA,MACpB,OAAOpG,GAASiJ,EAAM,GAAK7C,GAAS,UAGzBkO,EAAY,SAAAld,GAAK,OAAIA,EAAMuD,OAAOtB,MAAMqB,QAAQsF,OAEhDuU,EAAU,SAAAnd,GAAK,OAAIA,EAAMuD,OAAOtB,MAAMoB,KAAKyJ,MAAQ,IAEnDsQ,EAAS,SAAApd,GACpB,OAAOA,EAAMuD,OAAOtB,MAAMqB,QAAQuO,KAGvBwL,EAAc,SAAArd,GAAK,OAAIA,EAAMuD,OAAOtB,MAAMoB,KAAKyB,UAG/CwY,EAAgB,SAAAtd,GAAK,OAAIA,EAAMM,IAAIM,YAGnCX,EAAU,SAAAD,GAAK,OAAIA,EAAMqE,MAEzBkZ,EAAW,SAAAvd,GAAK,OAAIA,EAAMqE,KAAKN,OAE/ByZ,EAAqB,SAAAxd,GAAK,QAAMA,EAAMqE,KAAKR,aAG3C4Z,EAAiB,SAAAzd,GAAK,OAAIA,EAAMoF,W","file":"static/js/main.e1b62ef6.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { Suspense } from 'react';\nimport { Loading } from '../components';\n\nconst PublicLayout = ({ children }) => {\n  return (\n    <div className=\"main\">\n      <Suspense fallback={<Loading loading={true} className=\"u-text-center\" />}>\n        {children}\n      </Suspense>\n    </div>\n  );\n};\n\nexport { PublicLayout };\n","import React from 'react';\nimport { Route } from 'react-router-dom';\n\nconst PublicRoute = ({ component: Component, layout: Layout, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props => (\n        <Layout>\n          <Component {...props} />\n        </Layout>\n      )}\n    />\n  );\n};\n\nexport { PublicRoute };\n","import { lazy } from 'react';\nimport { PublicLayout } from './layouts';\nimport {\n  INDEX_PATH,\n  GAMES_PATH,\n  GAME_PATH,\n  USER_PATH\n} from './constants/urlApi';\n\nconst GamesContainer = lazy(() => import('./containers/GamesContainer'));\nconst GameContainer = lazy(() => import('./containers/GameContainer'));\nconst LoginContainer = lazy(() => import('./containers/LoginContainer'));\nconst SignupContainer = lazy(() => import('./containers/SignupContainer'));\nconst UserContainer = lazy(() => import('./containers/UserContainer'));\nconst UserSettingsContainer = lazy(() =>\n  import('./containers/UserSettingsContainer')\n);\nconst NotFound = lazy(() => import('./containers/NotFound'));\nexport const routes = [\n  {\n    path: INDEX_PATH,\n    exact: true,\n    layout: PublicLayout,\n    component: GamesContainer\n  },\n  {\n    path: GAMES_PATH,\n    exact: true,\n    layout: PublicLayout,\n    component: GamesContainer\n  },\n  {\n    path: GAME_PATH,\n    exact: true,\n    layout: PublicLayout,\n    component: GameContainer\n  },\n  {\n    path: USER_PATH,\n    exact: true,\n    layout: PublicLayout,\n    component: UserContainer\n  },\n  {\n    path: '/settings',\n    exact: true,\n    layout: PublicLayout,\n    component: UserSettingsContainer\n  },\n  {\n    path: '/login',\n    exact: true,\n    layout: PublicLayout,\n    component: LoginContainer\n  },\n  {\n    path: '/signup',\n    exact: true,\n    layout: PublicLayout,\n    component: SignupContainer\n  },\n  {\n    path: '*',\n    layout: PublicLayout,\n    component: NotFound\n  }\n];\n","import { connect } from 'react-redux';\nimport { Header } from '../components';\nimport { changeRoute } from '../actions/RouterActions';\nimport { logOut } from '../actions/UserActions';\nimport { getUser } from '../selectors/CommonSelectors';\n\nconst mapStateToProps = state => {\n  return {\n    ...getUser(state),\n    logOut\n  };\n};\n\nexport default connect(mapStateToProps, { changeRoute })(Header);\n","import React, { useEffect, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { HashRouter, Switch } from 'react-router-dom';\nimport { routes } from './routes';\nimport { PublicRoute } from './layouts';\nimport { initRouter } from './actions/RouterActions';\nimport { closeFullVideo, windowResize } from './actions/AppActions';\nimport { authen } from './actions/UserActions';\nimport HeaderContainer from './containers/HeaderContainer';\nimport {\n  INDEX_PATH,\n  GAMES_PATH,\n  GAME_PATH,\n  USER_PATH\n} from './constants/urlApi';\nimport { FullVideo } from './components';\nimport {\n  WINDOW_SIZE,\n  WINDOW_RESIZE_DEBOUNCE\n} from './constants/GlobalConstants';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css';\n\nconst paths = [INDEX_PATH, GAMES_PATH, GAME_PATH, USER_PATH];\n\nfunction App({\n  initRouter,\n  closeFullVideo,\n  videoId,\n  windowResize,\n  windowSize,\n  authen\n}) {\n  useEffect(() => {\n    initRouter(paths);\n    const subscriber = authen();\n    return subscriber;\n  }, [initRouter, authen]);\n\n  useEffect(() => {\n    let timeout = null;\n\n    const resize = () => {\n      const { innerWidth } = window;\n      if (\n        innerWidth < WINDOW_SIZE.tablet &&\n        windowSize !== WINDOW_SIZE.tablet\n      ) {\n        windowResize(WINDOW_SIZE.tablet);\n      } else if (\n        innerWidth >= WINDOW_SIZE.tablet &&\n        innerWidth < WINDOW_SIZE.laptop &&\n        windowSize !== WINDOW_SIZE.laptop\n      ) {\n        windowResize(WINDOW_SIZE.laptop);\n      } else if (\n        innerWidth >= WINDOW_SIZE.laptop &&\n        innerWidth < WINDOW_SIZE.desktop &&\n        windowSize !== WINDOW_SIZE.desktop\n      ) {\n        windowResize(WINDOW_SIZE.desktop);\n      } else if (\n        innerWidth >= WINDOW_SIZE.desktop &&\n        windowSize !== WINDOW_SIZE.all\n      ) {\n        windowResize(WINDOW_SIZE.all);\n      }\n    };\n\n    const onWidthResize = () => {\n      clearTimeout(timeout);\n      timeout = setTimeout(resize, WINDOW_RESIZE_DEBOUNCE);\n    };\n\n    onWidthResize();\n    window.addEventListener('resize', onWidthResize);\n\n    return () => {\n      window.removeEventListener('resize', onWidthResize);\n    };\n  }, [windowSize, windowResize]);\n\n  const renderRoutes = useCallback(routes => {\n    let result = null;\n    if (routes.length > 0) {\n      result = routes.map((route, index) => {\n        const { path, exact, layout, component } = route;\n\n        return (\n          <PublicRoute\n            key={index}\n            path={path}\n            exact={exact}\n            layout={layout}\n            component={component}\n          />\n        );\n      });\n    }\n    return <Switch>{result}</Switch>;\n  }, []);\n\n  return (\n    <HashRouter basename=\"/\">\n      <ToastContainer style={{ fontSize: '1.6rem' }} />\n      <div className=\"App\">\n        <HeaderContainer />\n        {renderRoutes(routes)}\n        <FullVideo onClose={closeFullVideo} videoId={videoId} />\n      </div>\n    </HashRouter>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n    ...state.app\n  };\n};\n\nexport default connect(mapStateToProps, {\n  initRouter,\n  closeFullVideo,\n  windowResize,\n  authen\n})(App);\n","import {\n  FETCH_GAMES_REQUEST,\n  FETCH_GAMES_SUCCESS,\n  FETCH_GAME_SCREENSHOTS_SUCCESS\n} from '../constants/ActionTypes';\n\nconst initialState = {\n  loading: false,\n  nextUrl: null,\n  games: []\n};\n\nfunction collection(state = initialState, { type, payload }) {\n  switch (type) {\n    case FETCH_GAMES_REQUEST:\n      return {\n        ...state,\n        loading: true\n      };\n    case FETCH_GAMES_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        nextUrl: payload.nextUrl,\n        games: [...state.games, ...payload.fetchedData]\n      };\n    case FETCH_GAME_SCREENSHOTS_SUCCESS:\n      return {\n        ...state,\n        screenshots: [...payload.screenshots]\n      };\n    default:\n      return state;\n  }\n}\n\nfunction games(state = {}, { type, payload }) {\n  switch (type) {\n    case FETCH_GAMES_REQUEST:\n    case FETCH_GAMES_SUCCESS:\n    case FETCH_GAME_SCREENSHOTS_SUCCESS:\n      return {\n        ...state,\n        [payload.collectionKey]: collection(state[payload.collectionKey], {\n          type,\n          payload\n        })\n      };\n    default:\n      return state;\n  }\n}\n\nexport default games;\n","import { CHANGE_ROUTE } from '../constants/ActionTypes';\n\nconst initialState = {\n  route: {\n    keys: {},\n    options: {},\n    path: ''\n  }\n};\n\nfunction router(state = initialState, { type, payload }) {\n  switch (type) {\n    case CHANGE_ROUTE:\n      return {\n        ...state,\n        route: payload.route\n      };\n    default:\n      return state;\n  }\n}\n\nexport default router;\n","import {\n  PLAY_FULL_VIDEO,\n  CLOSE_FULL_VIDEO,\n  WINDOW_RESIZE\n} from '../constants/ActionTypes';\nimport { WINDOW_SIZE } from '../constants/GlobalConstants';\n\nconst initialState = {\n  videoId: '',\n  windowSize: WINDOW_SIZE.all\n};\n\nfunction app(state = initialState, { type, payload }) {\n  switch (type) {\n    case PLAY_FULL_VIDEO:\n      return {\n        ...state,\n        videoId: payload.videoId\n      };\n    case CLOSE_FULL_VIDEO:\n      return {\n        ...state,\n        videoId: ''\n      };\n    case WINDOW_RESIZE:\n      return {\n        ...state,\n        windowSize: payload.size\n      };\n    default:\n      return state;\n  }\n}\n\nexport default app;\n","import {\n  LOGIN_SUCCESS,\n  CLEAR_USER,\n  UPDATE_USER_USERNAME,\n  FETCH_USER_LIKES_SUCCESS,\n  TOGGLE_LIKE,\n  UPDATE_USER_PROFILE_SUCCESS\n} from '../constants/ActionTypes';\n\nconst initialState = {\n  currentUser: null,\n  loadedAuth: false,\n  likes: {}\n};\n\nexport default function user(state = initialState, { type, payload }) {\n  switch (type) {\n    case LOGIN_SUCCESS:\n      return {\n        ...state,\n        currentUser: payload.user,\n        loadedAuth: true\n      };\n    case CLEAR_USER:\n      return {\n        ...initialState,\n        loadedAuth: true\n      };\n    case UPDATE_USER_USERNAME:\n      return {\n        ...state,\n        currentUser: { ...state.currentUser, displayName: payload.username }\n      };\n    case FETCH_USER_LIKES_SUCCESS:\n      return {\n        ...state,\n        likes: { ...payload.likes }\n      };\n    case TOGGLE_LIKE:\n      return {\n        ...state,\n        likes: { ...state.likes, [payload.id]: payload.liked }\n      };\n    case UPDATE_USER_PROFILE_SUCCESS:\n      return {\n        ...state,\n        currentUser: { ...state.currentUser, ...payload.props }\n      };\n    default:\n      return state;\n  }\n}\n","import {\n  FETCH_VISITED_USER_SUCCESS,\n  FETCH_VISITED_USER_REQUEST\n} from '../constants/ActionTypes';\n\nconst initialState = {\n  loadingUserProfile: true,\n  visitedUserProfile: null\n};\n\nfunction profileReducer(state = initialState, { type, payload }) {\n  switch (type) {\n    case FETCH_VISITED_USER_REQUEST:\n      return {\n        ...initialState\n      };\n    case FETCH_VISITED_USER_SUCCESS:\n      return {\n        ...state,\n        loadingUserProfile: false,\n        visitedUserProfile: payload.user\n      };\n    default:\n      return state;\n  }\n}\n\nexport default profileReducer;\n","import { combineReducers } from 'redux';\nimport GamesReducer from './GamesReducer';\nimport RouterReducer from './RouterReducer';\nimport AppReducer from './AppReducer';\nimport UserReducer from './UserReducer';\nimport profileReducer from './ProfileReducer';\n\nexport default combineReducers({\n  games: GamesReducer,\n  router: RouterReducer,\n  app: AppReducer,\n  user: UserReducer,\n  profile: profileReducer\n});\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport rootReducer from '../reducers';\n\nconst middlewares = [thunk];\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(...middlewares))\n);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nimport './index.scss';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n","// GAMES\nexport const FETCH_GAMES_REQUEST = 'FETCH_GAMES_REQUEST';\nexport const FETCH_GAMES_SUCCESS = 'FETCH_GAMES_SUCCESS';\n\n// ROUTER\nexport const CHANGE_ROUTE = 'CHANGE_ROUTE';\n\n// GAME\nexport const FETCH_GAME_SCREENSHOTS_SUCCESS = 'FETCH_GAME_SCREENSHOTS_SUCCESS';\n\n// APP\nexport const PLAY_FULL_VIDEO = 'PLAY_FULL_VIDEO';\nexport const CLOSE_FULL_VIDEO = 'CLOSE_FULL_VIDEO';\nexport const WINDOW_RESIZE = 'WINDOW_RESIZE';\n\n// USER\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const CLEAR_USER = 'CLEAR_USER';\nexport const UPDATE_USER_USERNAME = 'UPDATE_USER_USERNAME';\nexport const FETCH_USER_LIKES_SUCCESS = 'FETCH_USER_LIKES_SUCCESS';\nexport const TOGGLE_LIKE = 'TOGGLE_LIKE';\n\n// USER PROFILE\nexport const FETCH_VISITED_USER_REQUEST = 'FETCH_VISITED_USER_REQUEST';\nexport const FETCH_VISITED_USER_SUCCESS = 'FETCH_VISITED_USER_SUCCESS';\n\n// USER SETTINGS\nexport const UPDATE_USER_PROFILE_SUCCESS = 'UPDATE_USER_PROFILE_SUCCESS';\n","import { createHashHistory } from 'history';\n\nexport const history = createHashHistory();\n","export function setMetacriticColor(num) {\n  if (num < 0) return '';\n\n  let color = '-metacritic-';\n  if (num >= 75) {\n    color += 'green';\n  } else if (num >= 50) {\n    color += 'yellow';\n  } else if (num >= 25) {\n    color += 'blue';\n  } else {\n    color += 'red';\n  }\n\n  return color;\n}\n","export function preventClick(e) {\n  e.preventDefault();\n  e.stopPropagation();\n}\n","import {\n  FaWindows,\n  FaPlaystation,\n  FaXbox,\n  FaLinux,\n  FaApple,\n  FaAndroid\n} from 'react-icons/fa';\n\nconst platforms = new Map([\n  ['pc', FaWindows],\n  ['playstation', FaPlaystation],\n  ['xbox', FaXbox],\n  ['ios', FaApple],\n  ['android', FaAndroid],\n  ['linux', FaLinux]\n]);\n\nexport function platformIcon(slug) {\n  return platforms.get(slug);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { preventClick } from '../utils/helpers';\nimport { compileRoute } from '../utils/RouterUtils';\n\nconst propTypes = {\n  children: PropTypes.node.isRequired,\n  className: PropTypes.string,\n  active: PropTypes.bool,\n  path: PropTypes.string,\n  options: PropTypes.object,\n  keys: PropTypes.object,\n  changeRoute: PropTypes.func.isRequired,\n  onClick: PropTypes.func\n};\n\nconst defaultProps = {\n  active: false,\n  className: '',\n  onClick: () => {},\n  path: '',\n  keys: {},\n  options: {}\n};\n\nconst CustomLink = ({\n  children,\n  className,\n  active,\n  path,\n  options,\n  keys,\n  changeRoute,\n  onClick,\n  style,\n  ...props\n}) => {\n  const route = { path, keys, options };\n\n  const handleClick = () => {\n    onClick();\n    changeRoute(route);\n  };\n\n  return (\n    <Link\n      style={{ ...style, textDecoration: 'none' }}\n      {...props}\n      to={compileRoute(route)}\n      onClick={!active ? handleClick : preventClick}\n      className={className}\n    >\n      {children}\n    </Link>\n  );\n};\n\nCustomLink.propTypes = propTypes;\nCustomLink.defaultProps = defaultProps;\n\nexport default React.memo(CustomLink);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { history } from '../utils/helpers';\nimport { FaSearch } from 'react-icons/fa';\nimport { IoIosLogOut } from 'react-icons/io';\nimport { GAMES_PATH, USER_PATH } from '../constants/urlApi';\nimport CustomLink from './CustomLink';\n\nconst propTypes = {\n  changeRoute: PropTypes.func.isRequired,\n  logOut: PropTypes.func.isRequired,\n  currentUser: PropTypes.object\n};\n\nconst defaultProps = {};\n\nconst Header = ({ changeRoute, logOut, currentUser }) => {\n  const { displayName, photoURL } = currentUser || {};\n\n  const handleLogOut = async () => {\n    await logOut();\n  };\n\n  const handleKeyPress = e => {\n    const code = e.which || e.keyCode;\n    //press enter\n    if (code === 13) {\n      const value = e.target.value;\n      if (value !== '') {\n        changeRoute({ path: 'games', keys: {}, options: { query: value } });\n        history.push(`/games?query=${value}`);\n      }\n    }\n  };\n\n  return (\n    <header className=\"header\">\n      <h1 className=\"header__logo\">\n        <CustomLink path={GAMES_PATH} changeRoute={changeRoute}>\n          RAWGC\n        </CustomLink>\n      </h1>\n      <div className=\"search-bar\">\n        <button className=\"search-bar__button\">\n          <FaSearch className=\"search-bar__icon\" />\n        </button>\n        <input\n          type=\"text\"\n          className=\"search-bar__input\"\n          placeholder=\"Search for name\"\n          onKeyPress={handleKeyPress}\n        />\n      </div>\n      {!currentUser ? (\n        <React.Fragment>\n          <CustomLink\n            path={'/login'}\n            changeRoute={changeRoute}\n            className=\"btn u-uppercase\"\n            style={{ marginRight: '1rem' }}\n          >\n            Login\n          </CustomLink>\n          <CustomLink\n            path={'/signup'}\n            changeRoute={changeRoute}\n            className=\"btn u-uppercase\"\n          >\n            Sign up\n          </CustomLink>\n        </React.Fragment>\n      ) : (\n        <div className=\"header__user\">\n          <div className=\"header__user__info\">\n            <CustomLink\n              path={USER_PATH}\n              keys={{ username: displayName || '#' }}\n              changeRoute={changeRoute}\n              className=\"btn\"\n              style={{ display: 'flex', alignItems: 'center' }}\n            >\n              <div\n                className=\"header__user__avatar\"\n                style={{ backgroundImage: `url(${photoURL})` }}\n              >\n                {!photoURL && displayName ? displayName[0].toUpperCase() : ''}\n              </div>\n              <span className=\"header__user__username\">{displayName}</span>\n            </CustomLink>\n          </div>\n          <IoIosLogOut\n            onClick={handleLogOut}\n            title=\"Logout\"\n            className=\"icon icon--logout\"\n            cursor=\"pointer\"\n          />\n        </div>\n      )}\n    </header>\n  );\n};\n\nHeader.propTypes = propTypes;\nHeader.defaultProps = defaultProps;\n\nexport default React.memo(Header);\n","import React, { useState, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { elementInViewport, formatImageUrl } from '../utils/helpers';\n\nconst propTypes = {\n  backgroundImage: PropTypes.string,\n  hasVideo: PropTypes.bool.isRequired,\n  className: PropTypes.string,\n  children: PropTypes.node\n};\n\nconst defaultProps = {\n  className: '',\n  backgroundImage: ''\n};\n\nconst Background = ({ backgroundImage, hasVideo, className, children }) => {\n  const [loaded, setLoaded] = useState(false);\n  const bgRef = useRef(null);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      if (!loaded && bgRef.current && elementInViewport(bgRef.current)) {\n        const bgUrl = formatImageUrl(backgroundImage, hasVideo);\n        bgRef.current.style.backgroundImage = `url(${bgUrl})`;\n        setLoaded(true);\n      }\n    };\n\n    handleScroll();\n    window.addEventListener('scroll', handleScroll);\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, [loaded, backgroundImage, hasVideo]);\n\n  return (\n    <div ref={bgRef} className={`background ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nBackground.propTypes = propTypes;\nBackground.defaultProps = defaultProps;\n\nexport default React.memo(Background);\n","export function elementInViewport(el) {\n  const rect = el.getBoundingClientRect();\n  const windowHeight =\n    window.innerHeight || document.documentElement.clientHeight;\n  const offsetTop = 150;\n\n  return (\n    rect.top >= 0 && rect.left >= 0 && rect.top <= windowHeight + offsetTop\n  );\n}\n","import { IMAGE_URL, LIGHTWEIGHT_IMAGE_URL } from '../../constants/urlApi';\n\nexport function formatImageUrl(url, clipExists = true) {\n  const urlReplaced = clipExists\n    ? LIGHTWEIGHT_IMAGE_URL.VIDEO\n    : LIGHTWEIGHT_IMAGE_URL.NO_VIDEO;\n\n  return !!url ? url.replace(IMAGE_URL, urlReplaced) : '';\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  loading: PropTypes.bool.isRequired,\n  className: PropTypes.string,\n  style: PropTypes.object\n};\n\nconst defaultProps = {\n  className: '',\n  style: {}\n};\n\nconst Loading = ({ loading, className, style }) => {\n  if (!loading) {\n    return null;\n  }\n\n  return (\n    <div className={`loading ${className}`} style={style}>\n      <div className=\"lds-spinner\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  );\n};\n\nLoading.propTypes = propTypes;\nLoading.defaultProps = defaultProps;\n\nexport default React.memo(Loading);\n","import React, { useRef, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from './Loading';\nimport { FaPlay } from 'react-icons/fa';\n\nconst propTypes = {\n  src: PropTypes.string,\n  playFullVideo: PropTypes.func.isRequired\n};\n\nconst defaultProps = {\n  src: ''\n};\n\nconst Video = ({ src, videoId, playFullVideo }) => {\n  const [loading, setLoading] = useState(true);\n  const videoRef = useRef(null);\n\n  useEffect(() => {\n    videoRef.current.volume = 0;\n  }, []);\n\n  const handleLoadedData = () => {\n    setLoading(false);\n    videoRef.current.play();\n  };\n\n  return (\n    <div className=\"video\">\n      <Loading loading={loading} className=\"video__loading\" />\n      <video\n        ref={videoRef}\n        onLoadedData={handleLoadedData}\n        className={`video__frame ${!loading ? 'video__frame--play' : ''}`}\n        src={src}\n        loop\n      />\n      <button\n        className=\"video__full-frame\"\n        onClick={playFullVideo.bind(this, videoId)}\n      >\n        <FaPlay className=\"icon\" />\n        <span>Full video</span>\n      </button>\n    </div>\n  );\n};\n\nVideo.propType = propTypes;\nVideo.defaultProps = defaultProps;\n\nexport default React.memo(Video);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Background from './Background';\nimport Video from './Video';\nimport CustomLink from './CustomLink';\nimport { FaPlay } from 'react-icons/fa';\nimport { AiTwotoneLike, AiOutlineLoading } from 'react-icons/ai';\nimport { setMetacriticColor, platformIcon } from '../utils/helpers';\nimport { GAME_PATH } from '../constants/urlApi';\nimport { history } from '../utils/helpers';\n\nconst propTypes = {\n  game: PropTypes.object,\n  changeRoute: PropTypes.func.isRequired,\n  playFullVideo: PropTypes.func.isRequired,\n  toggleLike: PropTypes.func.isRequired,\n  liked: PropTypes.bool.isRequired,\n  isAuthenticated: PropTypes.bool.isRequired\n};\n\nconst defaultProps = {\n  game: {\n    clip: {\n      clip: '',\n      video: ''\n    },\n    parentPlatforms: []\n  }\n};\n\nconst GameItem = ({\n  game,\n  changeRoute,\n  playFullVideo,\n  toggleLike,\n  liked,\n  isAuthenticated\n}) => {\n  const [loadingToggleLike, setLoadingToggleLike] = useState(false);\n  const [hover, setHover] = useState(false);\n\n  const {\n    id,\n    name,\n    slug,\n    backgroundImage,\n    metacritic,\n    clip,\n    parentPlatforms\n  } = game;\n  const hasVideo = !!clip && !!clip.clip;\n  const showVideo = hasVideo && hover;\n\n  const handleMouseEnter = e => {\n    setHover(true);\n  };\n\n  const handleMouseLeave = e => {\n    setHover(false);\n  };\n\n  const handleToggleLike = e => {\n    if (isAuthenticated) {\n      setLoadingToggleLike(true);\n      toggleLike(id, !liked ? game : null, setLoadingToggleLike);\n    } else {\n      changeRoute({ path: '/login', keys: {}, options: {} });\n      history.push('/login');\n    }\n  };\n\n  return (\n    <div\n      className=\"game-item\"\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n    >\n      <Background backgroundImage={backgroundImage} hasVideo={hasVideo}>\n        {hasVideo && <FaPlay className=\"icon icon--play\" />}\n      </Background>\n      {showVideo && (\n        <Video\n          src={clip.clip}\n          videoId={clip.video}\n          playFullVideo={playFullVideo}\n        />\n      )}\n      <div className=\"game-item__info\">\n        <div className=\"game-item__info__top\">\n          <div className=\"game-item__platforms\">\n            {parentPlatforms.map(({ platform }) => {\n              const Icon = platformIcon(platform.slug);\n              return Icon ? (\n                <Icon\n                  key={platform.id}\n                  style={{ marginRight: '0.6rem' }}\n                  className=\"icon\"\n                />\n              ) : null;\n            })}\n          </div>\n          <span className={`game-item__meta ${setMetacriticColor(metacritic)}`}>\n            {!!metacritic ? metacritic : 0}\n          </span>\n        </div>\n        <div className=\"game-item__info__bottom\">\n          <CustomLink\n            className=\"heading-1 game-item__name\"\n            title={name}\n            active={false}\n            path={GAME_PATH}\n            keys={{ slug }}\n            changeRoute={changeRoute}\n          >\n            {name}\n          </CustomLink>\n          {loadingToggleLike ? (\n            <AiOutlineLoading className=\"icon icon--loading\" />\n          ) : (\n            <AiTwotoneLike\n              onClick={handleToggleLike}\n              className={`icon icon--like ${liked ? 'icon--liked' : ''}`}\n            />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nGameItem.propTypes = propTypes;\nGameItem.defaultProps = defaultProps;\n\nexport default React.memo(GameItem);\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport GameItem from './GameItem';\nimport { WINDOW_SIZE } from '../constants/GlobalConstants';\n\nconst propTypes = {\n  games: PropTypes.array,\n  changeRoute: PropTypes.func.isRequired,\n  playFullVideo: PropTypes.func.isRequired,\n  windowSize: PropTypes.number.isRequired,\n  toggleLike: PropTypes.func.isRequired,\n  likes: PropTypes.object,\n  isAuthenticated: PropTypes.bool.isRequired\n};\n\nconst defaultProps = {\n  games: []\n};\n\nfunction setCol(windowSize) {\n  switch (windowSize) {\n    case WINDOW_SIZE.all:\n      return 4;\n    case WINDOW_SIZE.desktop:\n      return 3;\n    case WINDOW_SIZE.laptop:\n      return 2;\n    case WINDOW_SIZE.tablet:\n      return 1;\n    default:\n      return 1;\n  }\n}\n\nconst GameRendered = ({\n  games,\n  changeRoute,\n  playFullVideo,\n  windowSize,\n  toggleLike,\n  likes,\n  isAuthenticated\n}) => {\n  const [gamesRendered, setGameRendered] = useState([]);\n  const [colRendered, setColRendered] = useState(setCol(windowSize));\n\n  useEffect(() => {\n    let col = 0;\n    const items = [];\n\n    for (let i = 0; i < colRendered; i++) {\n      items.push([]);\n    }\n\n    for (let i = 0; i < games.length; i++) {\n      items[col].push(games[i]);\n      col++;\n      if (col === colRendered) {\n        col = 0;\n      }\n    }\n    setGameRendered(items);\n  }, [games, colRendered]);\n\n  useEffect(() => {\n    setColRendered(setCol(windowSize));\n  }, [windowSize]);\n\n  return (\n    <div\n      className=\"games-rendered\"\n      style={{\n        gridTemplateColumns: `repeat(${colRendered}, minmax(30rem, 50rem)`\n      }}\n    >\n      {gamesRendered.map((set, index) => {\n        return (\n          <div className=\"col\" key={'games-' + index}>\n            {set.map(game => {\n              return (\n                <GameItem\n                  key={game.id}\n                  game={game}\n                  changeRoute={changeRoute}\n                  playFullVideo={playFullVideo}\n                  toggleLike={toggleLike}\n                  liked={!!likes[game.id]}\n                  isAuthenticated={isAuthenticated}\n                />\n              );\n            })}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nGameRendered.propTypes = propTypes;\nGameRendered.defaultProps = defaultProps;\n\nexport default React.memo(GameRendered);\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  loading: PropTypes.bool.isRequired,\n  gamesNextUrl: PropTypes.string,\n  games: PropTypes.array,\n  fetchGamesNext: PropTypes.func.isRequired,\n  collectionKey: PropTypes.string\n};\n\nconst defaultProps = {\n  className: ''\n};\n\nconst withInfiniteScroll = (InnerComponent, debounce = 0) => {\n  const InfiniteScroll = ({\n    fetchGamesNext,\n    gamesNextUrl,\n    collectionKey,\n    className,\n    ...props\n  }) => {\n    useEffect(() => {\n      const handleScroll = () => {\n        if (\n          window.innerHeight + window.scrollY >=\n          document.body.offsetHeight - 200\n        ) {\n          setTimeout(\n            () => fetchGamesNext(collectionKey, gamesNextUrl),\n            debounce\n          );\n        }\n      };\n\n      window.addEventListener('scroll', handleScroll);\n\n      return () => {\n        window.removeEventListener('scroll', handleScroll);\n      };\n    }, [fetchGamesNext, collectionKey, gamesNextUrl]);\n\n    return (\n      <div className={className}>\n        <InnerComponent collectionKey={collectionKey} {...props} />\n      </div>\n    );\n  };\n\n  return InfiniteScroll;\n};\n\nwithInfiniteScroll.propTypes = propTypes;\nwithInfiniteScroll.defaultProps = defaultProps;\n\nexport default withInfiniteScroll;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport CustomLink from './CustomLink';\nimport { GAMES_PATH } from '../constants/urlApi';\nimport { IoMdArrowDropdown } from 'react-icons/io';\n\nconst propTypes = {\n  genres: PropTypes.array,\n  genre: PropTypes.string,\n  changeRoute: PropTypes.func.isRequired\n};\n\nconst defaultProps = {};\n\nconst HeaderGenres = ({ genres, genre, changeRoute }) => {\n  const [expanded, setExpanded] = useState(false);\n\n  const handleClick = () => {\n    setExpanded(prev => !prev);\n  };\n\n  return (\n    <nav className=\"header-genres\">\n      <div className=\"header-genres__expanded\">\n        <span className=\"header-genres__current-genre\">{genre || 'Genre'}</span>\n        <span className=\"header-genres__expanded-icon\" onClick={handleClick}>\n          <IoMdArrowDropdown\n            style={{\n              transition: '0.2s',\n              transform: `rotate(${expanded ? '180deg' : '0deg'})`\n            }}\n          />\n        </span>\n      </div>\n\n      <div\n        className={`header-genres__menu ${\n          expanded ? 'header-genres__menu--expanded' : ''\n        }`}\n      >\n        {genres.map(g => (\n          <CustomLink\n            key={g.key}\n            className={`link ${g.key === genre ? 'link--active' : ''}`}\n            onClick={handleClick}\n            path={GAMES_PATH}\n            active={g.key === genre}\n            options={{ genre: g.key }}\n            changeRoute={changeRoute}\n            {...g}\n          >\n            {g.label}\n          </CustomLink>\n        ))}\n      </div>\n    </nav>\n  );\n};\n\nHeaderGenres.propTypes = propTypes;\nHeaderGenres.defaultProps = defaultProps;\n\nexport default React.memo(HeaderGenres);\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport GamesRendered from './GamesRendered';\nimport Loading from './Loading';\nimport withInfiniteScroll from './HOCs/withInfiniteScroll';\nimport HeaderGenres from './HeaderGenres';\n\nconst propTypes = {\n  loading: PropTypes.bool.isRequired,\n  games: PropTypes.array,\n  genres: PropTypes.array,\n  genre: PropTypes.string,\n  changeRoute: PropTypes.func.isRequired,\n  fetchGamesIfNeeded: PropTypes.func.isRequired,\n  collectionKey: PropTypes.string,\n  gamesUrl: PropTypes.string,\n  videoId: PropTypes.string,\n  playFullVideo: PropTypes.func.isRequired,\n  windowSize: PropTypes.number.isRequired,\n  toggleLike: PropTypes.func.isRequired,\n  likes: PropTypes.object,\n  isAuthenticated: PropTypes.bool.isRequired\n};\n\nconst defaultProps = {};\n\nconst Games = ({\n  loading,\n  games,\n  genres,\n  genre,\n  changeRoute,\n  fetchGamesIfNeeded,\n  collectionKey,\n  gamesUrl,\n  playFullVideo,\n  windowSize,\n  toggleLike,\n  likes,\n  isAuthenticated\n}) => {\n  useEffect(() => {\n    fetchGamesIfNeeded(collectionKey, gamesUrl);\n  }, [fetchGamesIfNeeded, collectionKey, gamesUrl]);\n\n  return (\n    <div style={{ margin: '2rem 0 12rem 0' }}>\n      <HeaderGenres genres={genres} genre={genre} changeRoute={changeRoute} />\n      <GamesRendered\n        games={games}\n        changeRoute={changeRoute}\n        playFullVideo={playFullVideo}\n        windowSize={windowSize}\n        toggleLike={toggleLike}\n        likes={likes}\n        isAuthenticated={isAuthenticated}\n      />\n      <Loading\n        loading={loading}\n        style={{ marginTop: '2rem' }}\n        className=\"u-text-center\"\n      />\n    </div>\n  );\n};\n\nGames.propTypes = propTypes;\nGames.defaultProps = defaultProps;\n\nexport default withInfiniteScroll(Games);\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport localizedFormat from 'dayjs/plugin/localizedFormat';\nimport { setMetacriticColor } from '../utils/helpers';\nimport {\n  IMAGE_URL,\n  LARGE_IMAGE_URL,\n  MEDIUM_IMAGE_URL,\n  GAMES_PATH\n} from '../constants/urlApi';\nimport Loading from './Loading';\nimport { FaPlay } from 'react-icons/fa';\nimport CustomLink from './CustomLink';\nimport {\n  AiTwotoneLike,\n  AiOutlinePlusCircle,\n  AiOutlineLoading\n} from 'react-icons/ai';\nimport { history } from '../utils/helpers';\nimport { preventClick } from '../utils/helpers';\n\ndayjs.extend(localizedFormat);\ndayjs.extend(relativeTime);\n\nconst propTypes = {\n  fetchGameIfNeeded: PropTypes.func.isRequired,\n  collectionKey: PropTypes.string,\n  slug: PropTypes.string,\n  game: PropTypes.object,\n  screenshots: PropTypes.array,\n  playFullVideo: PropTypes.func.isRequired,\n  changeRoute: PropTypes.func.isRequired,\n  isAuthenticated: PropTypes.bool.isRequired,\n  likes: PropTypes.object,\n  toggleLike: PropTypes.func.isRequired\n};\n\nconst defaultProps = {\n  screenshots: []\n};\n\nconst Game = ({\n  fetchGameIfNeeded,\n  collectionKey,\n  slug,\n  game,\n  screenshots,\n  playFullVideo,\n  changeRoute,\n  isAuthenticated,\n  likes,\n  toggleLike\n}) => {\n  const [loadingToggleLike, setLoadingToggleLike] = useState(false);\n  const [collapsed, setCollapsed] = useState(true);\n\n  useEffect(() => {\n    fetchGameIfNeeded(slug, collectionKey);\n  }, [fetchGameIfNeeded, slug, collectionKey]);\n\n  if (!game) {\n    return <Loading loading={true} className=\"u-text-center\" />;\n  }\n\n  const {\n    id,\n    backgroundImage,\n    name,\n    released,\n    metacritic,\n    genres,\n    website,\n    descriptionRaw,\n    alternativeNames,\n    clip,\n    tags\n  } = game;\n\n  const largeBackground =\n    backgroundImage && backgroundImage.replace(IMAGE_URL, LARGE_IMAGE_URL);\n  const mediumBackground =\n    backgroundImage && backgroundImage.replace(IMAGE_URL, MEDIUM_IMAGE_URL);\n  const showCollapsed = descriptionRaw.length > 220 && collapsed;\n  const collapsedDescription = showCollapsed\n    ? `${descriptionRaw.substring(0, 220)}...`\n    : descriptionRaw;\n  const videoId = clip && clip.video;\n  const releasedDate = `${dayjs(released).format('ll')} (${dayjs(\n    released\n  ).fromNow()})`;\n  const liked = likes[id];\n\n  const handleCollapsed = () => {\n    setCollapsed(prev => !prev);\n  };\n\n  const handleToggleLike = () => {\n    if (isAuthenticated) {\n      setLoadingToggleLike(true);\n      toggleLike(id, !liked ? game : null, setLoadingToggleLike);\n    } else {\n      changeRoute({ path: '/login', keys: {}, options: {} });\n      history.push('/login');\n    }\n  };\n\n  return (\n    <div className=\"game\">\n      <div className=\"deep\">\n        <div\n          className=\"game__back-art\"\n          style={{\n            backgroundImage: `linear-gradient(rgba(15, 15, 15, 0.7),\n            rgb(21, 21, 21)), linear-gradient(rgba(21, 21, 21, 0.8),\n            rgba(21, 21, 21, 0.5)), url(${largeBackground})`,\n            zIndex: '1'\n          }}\n        ></div>\n      </div>\n      <div className=\"game__main\">\n        <div>\n          <div\n            className=\"game__art\"\n            style={{ backgroundImage: `url(${mediumBackground})` }}\n          />\n          {videoId && (\n            <li\n              className=\"game__trailer\"\n              onClick={playFullVideo.bind(this, videoId)}\n            >\n              <FaPlay className=\"icon\" />\n              <span>Play trailer</span>\n            </li>\n          )}\n          <ul className=\"game__actions\">\n            <li\n              onClick={loadingToggleLike ? preventClick : handleToggleLike}\n              className={`btn game__action game__action--like ${\n                liked ? 'game__action--liked' : ''\n              }`}\n            >\n              {loadingToggleLike ? (\n                <AiOutlineLoading\n                  className=\"icon icon--loading\"\n                  style={{ margin: 0 }}\n                />\n              ) : (\n                <React.Fragment>\n                  <AiTwotoneLike className=\"icon\" />\n                  <span>Like</span>\n                </React.Fragment>\n              )}\n            </li>\n            <li className=\"btn game__action\">\n              <AiOutlinePlusCircle className=\"icon\" />\n              <span onClick={() => alert('Not supported yet!')}>\n                Collection\n              </span>\n            </li>\n          </ul>\n        </div>\n        <div className=\"game__content\">\n          <h2 className=\"game__name\">{name}</h2>\n          <span className=\"game__alternative-names\">\n            {alternativeNames.join(', ')}\n          </span>\n          <h3 className=\"heading-3\">\n            Released Date <p className=\"game__released\"> {releasedDate}</p>\n          </h3>\n          <span className={`game__meta ${setMetacriticColor(metacritic)}`}>\n            {metacritic || 0}\n          </span>\n          <h3 className=\"heading-3\">\n            Genres\n            <div className=\"game__genres\">\n              {genres.map((genre, index) => (\n                <React.Fragment key={genre.id}>\n                  {index !== 0 && ', '}\n                  <CustomLink\n                    className=\"game__genre\"\n                    active={false}\n                    path={GAMES_PATH}\n                    options={{ genre: genre.slug }}\n                    changeRoute={changeRoute}\n                  >\n                    {genre.name}\n                  </CustomLink>\n                </React.Fragment>\n              ))}\n            </div>\n          </h3>\n          <h3 className=\"heading-3\">\n            Homepage\n            <p className=\"game__homepage\">\n              <a href={website} target=\"blank\">\n                {website}\n              </a>\n            </p>\n          </h3>\n          <h3 className=\"heading-3\">\n            Description{' '}\n            <p className=\"game__description\">\n              {collapsedDescription}\n              {showCollapsed && (\n                <span\n                  className=\"heading-3 game__show-more\"\n                  onClick={handleCollapsed}\n                >\n                  read more\n                </span>\n              )}\n            </p>\n          </h3>\n        </div>\n      </div>\n      <div className=\"game__sub\">\n        <div className=\"left\">\n          <div className=\"game__images\">\n            {screenshots.map(ss => (\n              <img\n                className=\"game__image\"\n                key={ss.id}\n                alt={ss.id}\n                src={ss.image.replace(IMAGE_URL, MEDIUM_IMAGE_URL)}\n              />\n            ))}\n          </div>\n        </div>\n        <div className=\"right\">\n          <h3 className=\"heading-3\">\n            Tags\n            <div className=\"game__tags\">\n              {tags.map(tag => (\n                <CustomLink\n                  className=\"game__tag\"\n                  key={tag.id}\n                  active={false}\n                  path={GAMES_PATH}\n                  options={{ tag: tag.slug }}\n                  changeRoute={changeRoute}\n                >\n                  {tag.name}\n                </CustomLink>\n              ))}\n            </div>\n          </h3>\n        </div>\n      </div>\n      <div className=\"footer\">Power by RAWG</div>\n    </div>\n  );\n};\n\nGame.propTypes = propTypes;\nGame.defaultProps = defaultProps;\n\nexport default Game;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  onClose: PropTypes.func.isRequired,\n  videoId: PropTypes.string\n};\n\nconst defaultProps = {};\n\nconst FullVideo = ({ onClose, videoId }) => {\n  if (!videoId) {\n    return null;\n  }\n\n  return (\n    <div className=\"full-video\">\n      <span className=\"full-video__close\" onClick={onClose}>\n        &times;\n      </span>\n      <div className=\"full-video__frame\">\n        <iframe\n          width=\"100%\"\n          height=\"100%\"\n          frameBorder=\"0\"\n          allowFullScreen\n          allow=\"accelerometer; autoplay; encrypted-media; picture-in-picture\"\n          title=\"Youtube video player\"\n          src={`https://www.youtube.com/embed/${videoId}?autoplay=1`}\n        ></iframe>\n      </div>\n    </div>\n  );\n};\n\nFullVideo.propTypes = propTypes;\nFullVideo.defaultProps = defaultProps;\n\nexport default React.memo(FullVideo);\n","import React from 'react';\nimport { useField } from 'formik';\n\nconst CustomTextField = ({ placeholder, className, style, ...props }) => {\n  const [field, meta] = useField(props);\n  const errorText = meta.error && meta.touched ? meta.error : '';\n\n  return (\n    <div>\n      <input\n        className={className}\n        style={{ border: `${errorText ? '1px solid #f00' : ''}`, ...style }}\n        placeholder={placeholder}\n        {...field}\n        {...props}\n      />\n      {errorText && (\n        <div\n          style={{\n            color: '#f00',\n            fontWeight: '100',\n            fontSize: '1.4rem',\n            marginTop: '-1.2rem',\n            marginBottom: '1.2rem'\n          }}\n        >\n          {errorText}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CustomTextField;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Loading from '../Loading';\n\nconst withLogged = (InnerComponent, redirectTo = '/') => {\n  const Logged = ({ currentUser, loadedAuth, ...props }) => {\n    if (!loadedAuth) {\n      return <Loading loading={true} className=\"u-text-center\" />;\n    } else if (loadedAuth && currentUser) {\n      return <Redirect to={redirectTo} />;\n    }\n    return (\n      <InnerComponent\n        currentUser={currentUser}\n        loadedAuth={loadedAuth}\n        {...props}\n      />\n    );\n  };\n\n  return Logged;\n};\n\nexport default withLogged;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form } from 'formik';\nimport * as yup from 'yup';\nimport CustomTextField from './CustomTextField';\nimport { AiOutlineLoading } from 'react-icons/ai';\nimport withLogged from './HOCs/withLogged';\n\nconst initialValues = {\n  email: '',\n  password: '',\n  failed: ''\n};\n\nconst validationSchema = yup.object({\n  email: yup.string().required('This field is required'),\n  password: yup.string().required('This field is required')\n});\n\nconst Login = ({ login }) => {\n  const handleSubmit = async (data, actions) => {\n    const { setSubmitting, setFieldError } = actions;\n    const { email, password } = data;\n\n    setSubmitting(true);\n    try {\n      await login(email, password);\n    } catch (error) {\n      console.log(error);\n      setFieldError('failed', 'Unable to log in with provided credentials');\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"form\">\n      <h2 className=\"heading-1\">LOGIN</h2>\n      <Formik\n        initialValues={initialValues}\n        validationSchema={validationSchema}\n        onSubmit={handleSubmit}\n      >\n        {({ isSubmitting, errors }) => (\n          <Form className=\"form__form\">\n            <CustomTextField\n              type=\"email\"\n              name=\"email\"\n              className=\"form__input\"\n              placeholder=\"Email\"\n            />\n            <CustomTextField\n              type=\"password\"\n              name=\"password\"\n              className=\"form__input\"\n              placeholder=\"Password\"\n            />\n            {errors && errors.failed && (\n              <div\n                style={{\n                  color: '#f00',\n                  fontSize: '1.4rem',\n                  fontWeight: '100',\n                  marginBottom: '1rem'\n                }}\n              >\n                {errors.failed}\n              </div>\n            )}\n            <button\n              type={isSubmitting ? 'button' : 'submit'}\n              className=\"btn form__submit\"\n            >\n              {isSubmitting && (\n                <AiOutlineLoading className=\"icon icon--loading\" />\n              )}\n              LOGIN\n            </button>\n          </Form>\n        )}\n      </Formik>\n      <Link style={{ color: '#fff' }} to=\"/signup\">\n        Don't have an account? Sign up.\n      </Link>\n      <Link style={{ color: '#fff' }} to=\"/password-recovery\">\n        Forgot your password?\n      </Link>\n    </div>\n  );\n};\n\nexport default withLogged(Login);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form } from 'formik';\nimport * as yup from 'yup';\nimport CustomTextField from './CustomTextField';\nimport { AiOutlineLoading } from 'react-icons/ai';\nimport withLogged from './HOCs/withLogged';\n\nconst initialValues = {\n  email: '',\n  username: '',\n  password: '',\n  passwordConfirmation: ''\n};\n\nconst validationSchema = yup.object({\n  email: yup\n    .string()\n    .required('This field is required')\n    .email('This field must be email'),\n  username: yup\n    .string()\n    .required('This field is required')\n    .min(6, 'This field min 6 characters')\n    .max(15, 'This field max 15 characters'),\n  password: yup\n    .string()\n    .required('This field is required')\n    .min(6, 'This field min 6 characters'),\n  passwordConfirmation: yup\n    .string()\n    .required('This field is required')\n    .when('password', {\n      is: val => (val && val.length > 0 ? true : false),\n      then: yup\n        .string()\n        .oneOf([yup.ref('password')], 'Both password need to be the same')\n    })\n});\n\nconst Signup = ({ signUp }) => {\n  const handleSubmit = async (data, actions) => {\n    const { setSubmitting, setFieldError } = actions;\n    const { email, password, username } = data;\n\n    setSubmitting(true);\n    try {\n      const error = await signUp(email, username, password);\n      if (error) {\n        const [name, msg] = error.split('-');\n        setFieldError(name, msg);\n      }\n    } catch (error) {\n      console.error(error.code);\n      console.error(error.message);\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"form\">\n      <h2 className=\"heading-1\">SIGN UP</h2>\n      <Formik\n        initialValues={initialValues}\n        validationSchema={validationSchema}\n        onSubmit={handleSubmit}\n      >\n        {({ isSubmitting }) => (\n          <Form className=\"form__form\">\n            <CustomTextField\n              type=\"email\"\n              name=\"email\"\n              className=\"form__input\"\n              placeholder=\"Email\"\n            />\n            <CustomTextField\n              type=\"text\"\n              name=\"username\"\n              className=\"form__input\"\n              placeholder=\"Username\"\n            />\n            <CustomTextField\n              type=\"password\"\n              name=\"password\"\n              className=\"form__input\"\n              placeholder=\"Password\"\n            />\n            <CustomTextField\n              type=\"password\"\n              name=\"passwordConfirmation\"\n              className=\"form__input\"\n              placeholder=\"Confirm password\"\n            />\n            <button\n              type={isSubmitting ? 'button' : 'submit'}\n              className=\"btn form__submit\"\n            >\n              {isSubmitting && (\n                <AiOutlineLoading className=\"icon icon--loading\" />\n              )}\n              SIGN UP\n            </button>\n          </Form>\n        )}\n      </Formik>\n      <Link style={{ color: '#fff' }} to=\"/login\">\n        Already have an account? Login.\n      </Link>\n    </div>\n  );\n};\n\nexport default withLogged(Signup);\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport GamesRendered from './GamesRendered';\nimport Loading from './Loading';\n\nconst propTypes = {\n  uid: PropTypes.string.isRequired,\n  fetchUserLikes: PropTypes.func.isRequired,\n  changeRoute: PropTypes.func.isRequired,\n  playFullVideo: PropTypes.func.isRequired,\n  windowSize: PropTypes.number.isRequired,\n  toggleLike: PropTypes.func.isRequired,\n  isAuthenticated: PropTypes.bool.isRequired,\n  likes: PropTypes.object\n};\n\nconst defaultProps = {};\n\nconst UserLikesTab = ({\n  uid,\n  fetchUserLikes,\n  changeRoute,\n  playFullVideo,\n  windowSize,\n  toggleLike,\n  isAuthenticated,\n  likes\n}) => {\n  const [games, setGames] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchGamesUserLike = async () => {\n      setLoading(true);\n      const res = await fetchUserLikes(uid);\n      const data = res.data();\n      if (data) {\n        const gameArr = Object.keys(data)\n          .filter(key => !!data[key])\n          .reduce((arr, key) => [...arr, data[key]], []);\n        setGames(gameArr);\n      }\n      setLoading(false);\n    };\n\n    fetchGamesUserLike();\n  }, [uid, fetchUserLikes]);\n\n  if (loading) {\n    return <Loading loading={true} className=\"u-text-center\" />;\n  }\n\n  return (\n    <div className=\"user-likes\">\n      <GamesRendered\n        games={games}\n        likes={likes}\n        changeRoute={changeRoute}\n        playFullVideo={playFullVideo}\n        windowSize={windowSize}\n        toggleLike={toggleLike}\n        isAuthenticated={isAuthenticated}\n      />\n    </div>\n  );\n};\n\nUserLikesTab.propTypes = propTypes;\nUserLikesTab.defaultProps = defaultProps;\n\nexport default UserLikesTab;\n","import React, { useState, useEffect, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { USER_TABS } from '../constants/GlobalConstants';\nimport Loading from './Loading';\nimport CustomLink from './CustomLink';\nimport UserLikesTab from './UserLikesTab';\n\nconst propTypes = {\n  loadingUserProfile: PropTypes.bool.isRequired,\n  visitedUserProfile: PropTypes.object,\n  username: PropTypes.string,\n  isCurrentUser: PropTypes.bool.isRequired,\n  fetchUser: PropTypes.func.isRequired,\n  changeRoute: PropTypes.func.isRequired,\n  playFullVideo: PropTypes.func.isRequired,\n  windowSize: PropTypes.number.isRequired,\n  toggleLike: PropTypes.func.isRequired,\n  isAuthenticated: PropTypes.bool.isRequired,\n  fetchUserLikes: PropTypes.func.isRequired,\n  likes: PropTypes.object\n};\n\nconst defaultProps = {};\n\nconst User = ({\n  loadingUserProfile,\n  visitedUserProfile,\n  username,\n  fetchUser,\n  isCurrentUser,\n  changeRoute,\n  playFullVideo,\n  windowSize,\n  toggleLike,\n  isAuthenticated,\n  fetchUserLikes,\n  likes\n}) => {\n  const [currentTab, setCurrentTab] = useState('');\n  const { uid, displayName, photoURL } = visitedUserProfile || {};\n\n  useEffect(() => {\n    setCurrentTab('');\n    if (username) {\n      fetchUser(username);\n    }\n  }, [fetchUser, username]);\n\n  const renderTab = useMemo(() => {\n    switch (currentTab) {\n      case 'likes':\n        return (\n          <UserLikesTab\n            uid={uid}\n            fetchUserLikes={fetchUserLikes}\n            changeRoute={changeRoute}\n            playFullVideo={playFullVideo}\n            windowSize={windowSize}\n            toggleLike={toggleLike}\n            isAuthenticated={isAuthenticated}\n            likes={likes}\n          />\n        );\n      default:\n        return null;\n    }\n  }, [\n    currentTab,\n    uid,\n    fetchUserLikes,\n    changeRoute,\n    playFullVideo,\n    windowSize,\n    toggleLike,\n    isAuthenticated,\n    likes\n  ]);\n\n  const handleChangeTab = tab => () => {\n    setCurrentTab(tab);\n  };\n\n  if (loadingUserProfile) {\n    return <Loading loading={true} className=\"u-text-center\" />;\n  } else if (!loadingUserProfile && !visitedUserProfile) {\n    return (\n      <div style={{ fontSize: '4rem' }} className=\"u-text-center\">\n        User is not found\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"user\">\n      <div className=\"user__top\">\n        <div className=\"user__info\">\n          <span className=\"user__username\">{displayName}</span>\n          <div\n            className=\"user__photo\"\n            style={{ backgroundImage: `url(${photoURL})` }}\n          >\n            {!photoURL && displayName[0].toUpperCase()}\n          </div>\n        </div>\n        {isCurrentUser && (\n          <CustomLink\n            path={'/settings'}\n            changeRoute={changeRoute}\n            className=\"btn u-uppercase user__settings\"\n          >\n            Settings\n          </CustomLink>\n        )}\n      </div>\n      <div className=\"user__middle\">\n        <div className=\"user__tabs\">\n          {USER_TABS.map(({ key, label }) => (\n            <span\n              onClick={handleChangeTab(key)}\n              className={`user__tab ${\n                currentTab === key ? 'user__tab--active' : ''\n              }`}\n              key={key}\n            >\n              {label}\n            </span>\n          ))}\n        </div>\n      </div>\n      <div className=\"user__bottom\">{renderTab}</div>\n    </div>\n  );\n};\n\nUser.propTypes = propTypes;\nUser.defaultProps = defaultProps;\n\nexport default User;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Loading from '../Loading';\n\nconst withAuthenticated = (InnerComponent, redirectTo = '/login') => {\n  const Authenticated = ({ currentUser, loadedAuth, ...props }) => {\n    if (!loadedAuth) {\n      return <Loading loading={true} className=\"u-text-center\" />;\n    } else if (loadedAuth && !currentUser) {\n      return <Redirect to={redirectTo} />;\n    }\n    return (\n      <InnerComponent\n        currentUser={currentUser}\n        loadedAuth={loadedAuth}\n        {...props}\n      />\n    );\n  };\n\n  return Authenticated;\n};\n\nexport default withAuthenticated;\n","import React, { useRef, useState } from 'react';\n\nconst CustomImageInput = ({ name, errorMessage, setFieldValue, field }) => {\n  const [file, setFile] = useState();\n  const [imageReviewUrl, setImageReviewUrl] = useState();\n  const fileUpload = useRef(null);\n\n  const handleImageChange = e => {\n    e.preventDefault();\n    const reader = new FileReader();\n    const file = e.target.files[0];\n\n    if (file) {\n      reader.onloadend = () => {\n        setFile(file);\n        setImageReviewUrl(reader.result);\n      };\n      reader.readAsDataURL(file);\n      setFieldValue(field.name, file);\n    }\n  };\n\n  const showPreviewImage = () => {\n    if (file && !errorMessage) {\n      return <img src={imageReviewUrl} className=\"form__img\" alt=\"avatar\" />;\n    } else {\n      return <span className=\"form__img\"></span>;\n    }\n  };\n\n  const showFileUpload = () => {\n    if (fileUpload) {\n      fileUpload.current.click();\n    }\n  };\n\n  return (\n    <div\n      style={{ display: 'flex', alignItems: 'center', margin: '0 0 1rem 0' }}\n    >\n      <div>{showPreviewImage()}</div>\n      <input\n        hidden\n        id={name}\n        name={name}\n        type=\"file\"\n        onChange={handleImageChange}\n        ref={fileUpload}\n      />\n      <button type=\"button\" onClick={showFileUpload} className=\"form__button\">\n        Upload\n      </button>\n      {errorMessage ? (\n        <span\n          style={{\n            marginLeft: '1rem',\n            color: '#f00',\n            fontWeight: '100',\n            fontSize: '1.4rem'\n          }}\n        >\n          {errorMessage}\n        </span>\n      ) : null}\n    </div>\n  );\n};\n\nexport default CustomImageInput;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Formik, Form, Field } from 'formik';\nimport * as yup from 'yup';\nimport CustomTextField from './CustomTextField';\nimport CustomImageInput from './CustomImageInput';\nimport { AiOutlineLoading } from 'react-icons/ai';\nimport { FILE_SIZE, SUPPORTED_FORMATS } from '../constants/GlobalConstants';\nimport { toast } from 'react-toastify';\n\nconst propTypes = {\n  currentUser: PropTypes.object\n};\n\nconst defaultProps = {};\n\nconst initialValues = {\n  photo: undefined,\n  username: ''\n};\n\nconst validationSchema = yup.object({\n  photo: yup\n    .mixed()\n    .test(\n      'fileSize',\n      'File too large',\n      value => !value || value.size <= FILE_SIZE\n    )\n    .test(\n      'fileFormat',\n      'Unsupported format',\n      value => !value || SUPPORTED_FORMATS.includes(value.type)\n    ),\n  username: yup\n    .string()\n    .trim()\n    .required('This field is required')\n    .min(6, 'This field min 6 characters')\n    .max(15, 'This field max 15 characters')\n});\n\nconst SettingsProfileTab = ({ currentUser, updateUser }) => {\n  const { displayName } = currentUser || {};\n\n  const handleSubmit = async (data, actions) => {\n    const { setSubmitting, setFieldError } = actions;\n    const { photo, username } = data;\n\n    if (!photo && displayName === username) {\n      return;\n    }\n\n    setSubmitting(true);\n    try {\n      const error = await updateUser(data);\n      if (error) {\n        const [name, msg] = error.split('-');\n        setFieldError(name, msg);\n      } else {\n        toast.dark('🦄 Update profile successfully!', {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      }\n    } catch (error) {\n      console.error(error.code);\n      console.error(error.message);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"profile\">\n      <div className=\"form\">\n        <h2 className=\"heading-1\">MY PROFILE</h2>\n        <Formik\n          initialValues={(initialValues, { username: displayName || '' })}\n          validationSchema={validationSchema}\n          onSubmit={handleSubmit}\n        >\n          {({ isSubmitting, errors, touched, setFieldValue }) => (\n            <Form className=\"form__form\">\n              <Field\n                name=\"photo\"\n                component={CustomImageInput}\n                setFieldValue={setFieldValue}\n                errorMessage={errors['photo'] ? errors['photo'] : undefined}\n                touched={touched['photo']}\n              />\n              <CustomTextField\n                type=\"text\"\n                name=\"username\"\n                className=\"form__input\"\n                placeholder=\"Username\"\n              />\n              <button\n                type={isSubmitting ? 'button' : 'submit'}\n                className=\"btn form__submit\"\n              >\n                {isSubmitting && (\n                  <AiOutlineLoading className=\"icon icon--loading\" />\n                )}\n                SAVE CHANGES\n              </button>\n            </Form>\n          )}\n        </Formik>\n      </div>\n    </div>\n  );\n};\n\nSettingsProfileTab.propTypes = propTypes;\nSettingsProfileTab.defaultProps = defaultProps;\n\nexport default SettingsProfileTab;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Formik, Form } from 'formik';\nimport * as yup from 'yup';\nimport CustomTextField from './CustomTextField';\nimport { AiOutlineLoading } from 'react-icons/ai';\nimport { toast } from 'react-toastify';\n\nconst propTypes = {\n  currentUser: PropTypes.object\n};\n\nconst defaultProps = {};\n\nconst initialValues = {\n  oldPassword: '',\n  newPassword: '',\n  confirmNewPassword: '',\n  error: ''\n};\n\nconst validationSchema = yup.object({\n  oldPassword: yup.string().required('This field is required'),\n  newPassword: yup\n    .string()\n    .required('This field is required')\n    .min(6, 'This field min 6 characters'),\n  confirmNewPassword: yup\n    .string()\n    .required('This field is required')\n    .when('newPassword', {\n      is: val => (val && val.length > 0 ? true : false),\n      then: yup\n        .string()\n        .oneOf([yup.ref('newPassword')], 'Both password need to be the same')\n    })\n});\n\nconst SettingsPasswordTab = ({ changePassword }) => {\n  const handleSubmit = async (data, actions) => {\n    const { setSubmitting, setFieldError, resetForm } = actions;\n    const { oldPassword, newPassword } = data;\n\n    setSubmitting(true);\n    try {\n      const error = await changePassword(oldPassword, newPassword);\n\n      if (error) {\n        const [name, msg] = error.split('-');\n        setFieldError(name, msg);\n      } else {\n        resetForm();\n        toast.dark('🦄 Change password successfully!', {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      }\n    } catch (error) {\n      console.error(error.code);\n      console.error(error.message);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"profile\">\n      <div className=\"form\">\n        <h2 className=\"heading-1\">CHANGE MY PASSWORD</h2>\n        <Formik\n          initialValues={initialValues}\n          validationSchema={validationSchema}\n          onSubmit={handleSubmit}\n        >\n          {({ isSubmitting, errors }) => (\n            <Form className=\"form__form\">\n              <CustomTextField\n                type=\"password\"\n                name=\"oldPassword\"\n                className=\"form__input\"\n                placeholder=\"Old password\"\n              />\n              <CustomTextField\n                type=\"password\"\n                name=\"newPassword\"\n                className=\"form__input\"\n                placeholder=\"New Password\"\n              />\n              <CustomTextField\n                type=\"password\"\n                name=\"confirmNewPassword\"\n                className=\"form__input\"\n                placeholder=\"New password confirmation\"\n              />\n              {errors['error'] && (\n                <span\n                  style={{\n                    fontSize: '1.4rem',\n                    fontWeight: '100',\n                    color: '#f00'\n                  }}\n                >\n                  {errors['error']}\n                </span>\n              )}\n              <button\n                type={isSubmitting ? 'button' : 'submit'}\n                className=\"btn form__submit\"\n              >\n                {isSubmitting && (\n                  <AiOutlineLoading className=\"icon icon--loading\" />\n                )}\n                SAVE CHANGES\n              </button>\n            </Form>\n          )}\n        </Formik>\n      </div>\n    </div>\n  );\n};\n\nSettingsPasswordTab.propTypes = propTypes;\nSettingsPasswordTab.defaultProps = defaultProps;\n\nexport default SettingsPasswordTab;\n","import React, { useState, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport withAuthenticated from './HOCs/withAuthenticated';\nimport SettingsProfileTab from './SettingsProfileTab';\nimport SettingsPasswordTab from './SettingsPasswordTab';\nimport { SETTINGS_TABS } from '../constants/GlobalConstants';\n\nconst propTypes = {\n  currentUser: PropTypes.object\n};\n\nconst defaultProps = {};\n\nconst UserSettings = ({ currentUser, updateUser, changePassword }) => {\n  const [currentTab, setCurrentTab] = useState('');\n\n  const renderTab = useMemo(() => {\n    switch (currentTab) {\n      case '':\n        return (\n          <SettingsProfileTab\n            currentUser={currentUser}\n            updateUser={updateUser}\n          />\n        );\n      case 'change-password':\n        return <SettingsPasswordTab changePassword={changePassword} />;\n      default:\n        return null;\n    }\n  }, [currentTab, currentUser, updateUser, changePassword]);\n\n  const handleChangeTab = tab => () => {\n    setCurrentTab(tab);\n  };\n\n  return (\n    <div className=\"settings\">\n      <div className=\"settings__tabs\">\n        {SETTINGS_TABS.map(({ key, label }) => (\n          <span\n            onClick={handleChangeTab(key)}\n            className={`settings__tab ${\n              currentTab === key ? 'settings__tab--active' : ''\n            }`}\n            key={key}\n          >\n            {label}\n          </span>\n        ))}\n      </div>\n      <div className=\"settings__content\">{renderTab}</div>\n    </div>\n  );\n};\n\nUserSettings.propTypes = propTypes;\nUserSettings.defaultProps = defaultProps;\n\nexport default withAuthenticated(UserSettings);\n","import { pathToRegexp, compile } from 'path-to-regexp';\n\nconst compileOptions = options => {\n  return Object.keys(options)\n    .map(key => `${key}=${options[key]}`)\n    .join('&');\n};\n\nconst getPathMatch = (paths, pathname) => {\n  return paths\n    .map(path => {\n      const keys = [];\n      const regexp = pathToRegexp(path, keys);\n      return { path, regexp, keys };\n    })\n    .find(path => path.regexp.test(pathname));\n};\n\nconst parseRouteKeys = (pathname, result) => {\n  const { keys, regexp } = result;\n  const regexpResult = regexp.exec(pathname);\n\n  return keys.reduce(\n    (obj, key, i) => ({\n      ...obj,\n      [key.name]: i + 1 < regexpResult.length ? regexpResult[i + 1] : ''\n    }),\n    {}\n  );\n};\n\nconst parseRouteOptions = search => {\n  return search\n    .split('&')\n    .map(pair => pair.split('='))\n    .filter(keyValuePair => keyValuePair.length === 2 && keyValuePair[0] !== '')\n    .reduce(\n      (obj, keyValuePair) => ({ ...obj, [keyValuePair[0]]: keyValuePair[1] }),\n      {}\n    );\n};\n\nexport const parseRoute = (paths, pathname, search) => {\n  const pathMatch = getPathMatch(paths, pathname);\n  const path = pathMatch ? pathMatch.path : pathname;\n  const keys = pathMatch ? parseRouteKeys(pathname, pathMatch) : [];\n  const options = search ? parseRouteOptions(search) : {};\n\n  return { path, keys, options };\n};\n\nexport const compileRoute = ({ path, keys, options }) => {\n  const toPath = compile(path, { encode: encodeURIComponent });\n  const query = compileOptions(options);\n  return `${toPath(keys)}${query.trim() !== '' ? `?${query}` : ''}`;\n};\n","import app from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firebase-firestore';\nimport 'firebase/storage';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyAb531xDPpt8fMbqnrHRTn521bxx7rTezk',\n  authDomain: 'rawg-client.firebaseapp.com',\n  databaseURL: 'https://rawg-client.firebaseio.com',\n  projectId: 'rawg-client',\n  storageBucket: 'rawg-client.appspot.com',\n  messagingSenderId: '350468735304',\n  appId: '1:350468735304:web:d51ff41d2f0d0b5196f37d',\n  measurementId: 'G-PGYDM791MF'\n};\n\nclass Firebase {\n  constructor() {\n    app.initializeApp(firebaseConfig);\n    this.EmailAuthProvider = app.auth.EmailAuthProvider;\n    this.auth = app.auth();\n    this.db = app.firestore();\n    this.storage = app.storage();\n  }\n}\n\nexport default new Firebase();\n","import firebase from '../firebase';\nimport {\n  LOGIN_SUCCESS,\n  CLEAR_USER,\n  UPDATE_USER_USERNAME,\n  FETCH_USER_LIKES_SUCCESS,\n  TOGGLE_LIKE,\n  FETCH_VISITED_USER_SUCCESS,\n  FETCH_VISITED_USER_REQUEST,\n  UPDATE_USER_PROFILE_SUCCESS\n} from '../constants/ActionTypes';\n\nconst loginSuccess = user => ({ type: LOGIN_SUCCESS, payload: { user } });\n\nconst clearUser = () => ({ type: CLEAR_USER });\n\nconst updateUsername = username => ({\n  type: UPDATE_USER_USERNAME,\n  payload: { username }\n});\n\nconst fetchUserLikesSuccess = likes => ({\n  type: FETCH_USER_LIKES_SUCCESS,\n  payload: { likes }\n});\n\nconst userToggleLike = (id, liked) => ({\n  type: TOGGLE_LIKE,\n  payload: { id, liked }\n});\n\nconst fetchVisitedUserRequest = () => ({ type: FETCH_VISITED_USER_REQUEST });\n\nconst fetchVisitedUserSuccess = user => ({\n  type: FETCH_VISITED_USER_SUCCESS,\n  payload: { user }\n});\n\nconst updateUserProfileSuccess = props => ({\n  type: UPDATE_USER_PROFILE_SUCCESS,\n  payload: { props }\n});\n\nexport const login = async (email, password) => {\n  return firebase.auth.signInWithEmailAndPassword(email, password);\n};\n\nexport const signUp = (email, username, password) => async dispatch => {\n  //email existed\n  const emailExisted = await firebase.auth.fetchSignInMethodsForEmail(email);\n  if (emailExisted && emailExisted.length > 0) {\n    return 'email-The email address is already in use by another account.';\n  }\n\n  //username existed\n  const usernameExisted = await firebase.db\n    .collection('users')\n    .doc(username)\n    .get();\n  if (usernameExisted.data()) {\n    return 'username-The username is already in use by another account.';\n  }\n\n  //create user\n  const res = await firebase.auth.createUserWithEmailAndPassword(\n    email,\n    password\n  );\n  await res.user\n    .updateProfile({\n      displayName: username\n    })\n    .then(() => {\n      dispatch(updateUsername(res.user.displayName));\n      firebase.db\n        .collection('users')\n        .doc(res.user.displayName)\n        .set({\n          uid: res.user.uid,\n          displayName: res.user.displayName,\n          photoURL: null\n        })\n        .catch(console.error);\n    });\n};\n\nexport const logOut = async () => {\n  return firebase.auth.signOut();\n};\n\n//observe current user state change\nexport const authen = () => dispatch => {\n  return firebase.auth.onAuthStateChanged(user => {\n    if (user) {\n      const fetchedUser = {\n        uid: user.uid,\n        photoURL: user.photoURL,\n        displayName: user.displayName\n      };\n      dispatch(loginSuccess(fetchedUser));\n      fetchUserLikes(fetchedUser.uid)\n        .then(res => dispatch(fetchUserLikesSuccess(res.data())))\n        .catch(console.error);\n    } else {\n      dispatch(clearUser());\n    }\n  });\n};\n\nexport const fetchUserLikes = uid => {\n  return firebase.db.collection('likes').doc(uid).get();\n};\n\nexport const toggleLike = (id, game, callback) => async dispatch => {\n  const { currentUser } = firebase.auth;\n\n  if (currentUser) {\n    const { uid } = currentUser;\n    const docRef = firebase.db.collection('likes').doc(uid);\n\n    docRef\n      .set({ [id]: game }, { merge: true })\n      .then(() => {\n        dispatch(userToggleLike(id, game));\n      })\n      .catch(console.error)\n      .finally(() => {\n        callback(false);\n      });\n  }\n};\n\nexport const fetchUser = username => async dispatch => {\n  try {\n    dispatch(fetchVisitedUserRequest());\n    const fetchedUser = await firebase.db\n      .collection('users')\n      .doc(username)\n      .get();\n    dispatch(fetchVisitedUserSuccess(fetchedUser.data()));\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nexport const updateUser = user => async dispatch => {\n  const { currentUser } = firebase.auth;\n\n  if (!currentUser) {\n    return;\n  }\n\n  const storageRef = firebase.storage.ref();\n  const { photo, username } = user;\n  const { uid, displayName } = currentUser;\n  let propsShouldUpdate = { displayName: username };\n\n  try {\n    //username existed\n    if (displayName !== username) {\n      const usernameExisted = await firebase.db\n        .collection('users')\n        .doc(username)\n        .get();\n      if (usernameExisted.data()) {\n        return 'username-The username is already in use by another account.';\n      }\n    }\n\n    if (photo) {\n      //upload image to storage\n      await storageRef.child(uid).put(photo);\n      //get image url\n      const url = await storageRef.child(uid).getDownloadURL();\n\n      propsShouldUpdate = { ...propsShouldUpdate, photoURL: url };\n    }\n\n    //update auth profile\n    currentUser.updateProfile({\n      ...propsShouldUpdate\n    });\n\n    const collectRef = firebase.db.collection('users').doc(displayName);\n    if (displayName === username) {\n      //update only\n      collectRef.update({\n        ...propsShouldUpdate\n      });\n    } else {\n      //delete current user and add new user with new key\n      const previousUser = await collectRef.get();\n\n      collectRef.delete();\n\n      firebase.db\n        .collection('users')\n        .doc(username)\n        .set({\n          ...previousUser.data(),\n          ...propsShouldUpdate\n        });\n    }\n\n    //update reducer\n    dispatch(updateUserProfileSuccess(propsShouldUpdate));\n  } catch (err) {\n    throw err;\n  }\n};\n\nexport const changePassword = (oldPassword, newPassword) => async () => {\n  const { currentUser } = firebase.auth;\n  if (!currentUser) {\n    return;\n  }\n\n  try {\n    const { email } = currentUser;\n    const credential = firebase.EmailAuthProvider.credential(\n      email,\n      oldPassword\n    );\n    const res = await currentUser.reauthenticateWithCredential(credential);\n\n    if (res) {\n      await currentUser.updatePassword(newPassword);\n    }\n  } catch (err) {\n    if (err.code === 'auth/wrong-password') {\n      return 'oldPassword-Wrong password';\n    }\n    return 'error-Something went wrong';\n  }\n};\n","import { CHANGE_ROUTE } from '../constants/ActionTypes';\nimport { parseRoute } from '../utils/RouterUtils';\n\nexport const changeRoute = route => ({\n  type: CHANGE_ROUTE,\n  payload: { route }\n});\n\nexport const initRouter = paths => dispatch => {\n  window.onpopstate = () => {\n    const hash = window.location.hash ? window.location.hash.slice(1) : '';\n    const [pathname, search] = hash.split('?');\n    const route = parseRoute(paths, pathname, search);\n    dispatch(changeRoute(route));\n  };\n\n  const hash = window.location.hash ? window.location.hash.slice(1) : '';\n  const [pathname, search] = hash.split('?');\n  const route = parseRoute(paths, pathname, search);\n  dispatch(changeRoute(route));\n};\n","export const API_URL = 'https://api.rawg.io/api';\nexport const IMAGE_URL = 'https://media.rawg.io/media/';\nexport const SMALL_IMAGE_URL = 'https://media.rawg.io/media/resize/200/-/';\nexport const MEDIUM_IMAGE_URL = 'https://media.rawg.io/media/resize/640/-/';\nexport const LARGE_IMAGE_URL = 'https://media.rawg.io/media/resize/1280/-/';\nexport const LIGHTWEIGHT_IMAGE_URL = {\n  VIDEO: 'https://media.rawg.io/media/crop/600/400/',\n  NO_VIDEO: 'https://media.rawg.io/media/resize/640/-/'\n};\n\nexport const INDEX_PATH = '/';\nexport const GAMES_PATH = '/games';\nexport const GAME_PATH = '/games/:slug';\nexport const USER_PATH = '/@:username';\n\nexport const PUBLIC_API_KEY = '88875ce36a0e44c7836738cb513a6b43';\n","export const GENRES = [\n  {\n    key: 'action',\n    label: 'Action',\n    to: 'action'\n  },\n  {\n    key: 'indie',\n    label: 'Indie',\n    to: 'indie'\n  },\n  {\n    key: 'adventure',\n    label: 'Adventure',\n    to: 'adventure'\n  },\n  {\n    key: 'role-playing-games-rpg',\n    label: 'RPG',\n    to: 'role-playing-games-rpg'\n  },\n  {\n    key: 'shooter',\n    label: 'Shooter',\n    to: 'shooter'\n  },\n  {\n    key: 'strategy',\n    label: 'Strategy',\n    to: 'strategy'\n  },\n  {\n    key: 'casual',\n    label: 'Casual',\n    to: 'casual'\n  },\n  {\n    key: 'simulation',\n    label: 'Simulation',\n    to: 'simulation'\n  },\n  {\n    key: 'arcade',\n    label: 'Arcade',\n    to: 'arcade'\n  },\n  {\n    key: 'puzzle',\n    label: 'Puzzle',\n    to: 'puzzle'\n  },\n  {\n    key: 'platformer',\n    label: 'Platformer',\n    to: 'platformer'\n  },\n  {\n    key: 'racing',\n    label: 'Racing',\n    to: 'racing'\n  },\n  {\n    key: 'sports',\n    label: 'Sports',\n    to: 'sports'\n  },\n  {\n    key: 'family',\n    label: 'Family',\n    to: 'family'\n  },\n  {\n    key: 'massively-multiplayer',\n    label: 'Massively Multiplayer',\n    to: 'massively-multiplayer'\n  },\n  {\n    key: 'fighting',\n    label: 'Fighting',\n    to: 'fighting'\n  },\n  {\n    key: 'board-games',\n    label: 'Board Games',\n    to: 'board-games'\n  },\n  {\n    key: 'educational',\n    label: 'Educational',\n    to: 'educational'\n  },\n  {\n    key: 'card',\n    label: 'Card',\n    to: 'card'\n  }\n];\n\nexport const WINDOW_SIZE = {\n  tablet: 768,\n  laptop: 992,\n  desktop: 1200,\n  all: 0\n};\n\nexport const WINDOW_RESIZE_DEBOUNCE = 400;\n\nexport const USER_TABS = [\n  {\n    key: '',\n    label: 'Overview'\n  },\n  {\n    key: 'likes',\n    label: 'Likes'\n  }\n];\n\nexport const SETTINGS_TABS = [\n  {\n    key: '',\n    label: 'Profile'\n  },\n  {\n    key: 'change-password',\n    label: 'Change password'\n  }\n];\n\nexport const FILE_SIZE = 160 * 1024;\nexport const SUPPORTED_FORMATS = ['image/jpg', 'image/jpeg', 'image/png'];\n","import {\n  PLAY_FULL_VIDEO,\n  CLOSE_FULL_VIDEO,\n  WINDOW_RESIZE\n} from '../constants/ActionTypes';\n\nexport const playFullVideo = videoId => ({\n  type: PLAY_FULL_VIDEO,\n  payload: { videoId }\n});\n\nexport const closeFullVideo = () => ({\n  type: CLOSE_FULL_VIDEO\n});\n\nexport const windowResize = size => ({\n  type: WINDOW_RESIZE,\n  payload: { size }\n});\n","// GAMES\nexport const getGames = state => state.games;\n\n// ROUTER\nexport const getGenre = state => {\n  const { query, tag, genre } = state.router.route.options;\n  return query || tag ? '' : genre || 'action';\n};\n\nexport const getSearch = state => state.router.route.options.query;\n\nexport const getSlug = state => state.router.route.keys.slug || '';\n\nexport const getTag = state => {\n  return state.router.route.options.tag;\n};\n\nexport const getUsername = state => state.router.route.keys.username;\n\n// APP\nexport const getWindowSize = state => state.app.windowSize;\n\n// USER\nexport const getUser = state => state.user;\n\nexport const getLikes = state => state.user.likes;\n\nexport const getIsAuthenticated = state => !!state.user.currentUser;\n\n// USER PROFILE\nexport const getUserProfile = state => state.profile;\n"],"sourceRoot":""}